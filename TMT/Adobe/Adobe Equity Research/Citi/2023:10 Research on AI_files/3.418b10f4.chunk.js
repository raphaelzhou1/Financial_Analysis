(window.MODERN_WEBPACK_webpackJsonp=window.MODERN_WEBPACK_webpackJsonp||[]).push([[3],{1601:function(e,a,t){},1603:function(e,a,t){"use strict";t.r(a);var i=t(10),n=t(11),s=t(15),c=t(14),r=t(16),l=t(3),o=t(8),g=t(0),p=t.n(g),d=t(12),y=t.n(d),u=(t(1601),t(32)),A=t(5),f=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(s.a)(this,Object(c.a)(t).call(this,e)),Object(o.a)(Object(l.a)(Object(l.a)(a)),"resizeHandler",function(){(0,a.props.setPageAnalytics)({isActivePageAnalytics:!1}),a.closePageAnalyticsFrame_()}),a.isPageAnalyticsLoaded=!1,a.analysticsIframe=p.a.createRef(),u.a.resizePageAnalyticsFrameHeight_=a.resizePageAnalyticsFrameHeight_.bind(Object(l.a)(Object(l.a)(a))),u.a.openMenu=a.openMenu.bind(Object(l.a)(Object(l.a)(a))),a.prtl=A.P(),a.efficientResizeHandle=A.m(a.resizeHandler,200),a}return Object(r.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.efficientResizeHandle)}},{key:"componentDidUpdate",value:function(e){var a=this.props,t=a.isActivePageAnalytics,i=a.setAnalyticsIframeAction;t!==e.isActivePageAnalytics&&i({pageAnalyticsiframeUrl:this.loadPageAnalyticsFrame_(t)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.efficientResizeHandle)}},{key:"closePageAnalyticsFrame_",value:function(){this.isPageAnalyticsLoaded=!1,this.postMessage("CLOSE_PAGE_ANALYTICS","close page analytics")}},{key:"openMenu",value:function(e){if(e){var a=window.prtl.navigation.getMenuNode(e&&e.menuCode);a?(window.prtl.navigation.go(a),(0,this.props.setPageAnalytics)({isActivePageAnalytics:!0,pageAnalyticsFilterParams:e&&e.filterParams})):window.PORTAL.UI.Controller.modalAlert("Message","Oops, the specified menu is not found or not granted to access.")}}},{key:"loadPageAnalyticsFrame_",value:function(e,a){if(e){window.scrollTo(0,0);var t=this.props.prtlData,i={PROD:"99661289",UAT:"99069017",QA:"99661289"},n="",s="99069017",c=window.prtl.navigation.getCurrentMenuNode();n=c.clickPathOverride||c.getClickPath&&c.getClickPath(),i[t.setting.env.toUpperCase()]&&(s=i[t.setting.env.toUpperCase()]);var r='/ua/pageDashboard?viewId="'.concat(s,"&pagePath=/").concat(n.replace(/\&/g,"CHARAMPERSAND"));return t.setting.newPageAnalytics&&(r='/analyticsinternal/cvusageui/pageanalytics/?viewId="'.concat(s,"&pagePath=/").concat(n.replace(/\&/g,"CHARAMPERSAND"))),a&&(r+=a),this.isPageAnalyticsLoaded=!0,r}return!0}},{key:"postMessage",value:function(e,a){var t=document.getElementById("page-analytics-iframe");if(t)try{t.contentWindow.postMessage(JSON.stringify({type:e,message:a}),this.prtl.BASE.replace("/cv2",""))}catch(e){console.error(e)}}},{key:"resizePageAnalyticsFrameHeight_",value:function(e,a){if(parseInt(a,10)&&0<=a){var t=document.getElementById("page-analytics-iframe");t.style.height="".concat(a,"px"),t.style.width="100%",t.style.transition="1.2s"}}},{key:"render",value:function(){var e=this.props,a=e.isActivePageAnalytics,t=e.pageAnalyticsiframeUrl;return a||this.closePageAnalyticsFrame_(),p.a.createElement("div",{id:"page-analytics-container",className:y()({hide:!a})},p.a.createElement("div",{id:"page-analytics-div"},p.a.createElement("iframe",{title:"analytics",scrolling:"no",frameBorder:"0",name:"page-analytics-iframe",id:"page-analytics-iframe",src:t,ref:this.analysticsIframe})))}}]),t}(p.a.PureComponent);a.default=f}}]);