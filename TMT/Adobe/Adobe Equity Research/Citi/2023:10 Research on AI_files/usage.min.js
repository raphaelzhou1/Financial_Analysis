/*!
* Usage Analytics API JS v108.0
* Glassbox Integrated
*/
"use strict";window.UsageTools=window.UsageTools||{_maxLoadTimeInMillis:120000,_debug:(typeof window.usageDebug==="undefined")?(window.location.href.indexOf("USAGEDEBUG")>-1?true:false):window.usageDebug,_testEnv:null,enabled:(typeof window.usageEnabled==="undefined")?true:window.usageEnabled,getUTCTime:function(){var b=new Date();return b.getUTCFullYear()+"-"+this.pad(b.getUTCMonth()+1)+"-"+this.pad(b.getUTCDate())+" "+this.pad(b.getUTCHours())+":"+this.pad(b.getUTCMinutes())+":"+this.pad(b.getUTCSeconds())},pad:function(b){return b<10?"0"+b:b},createRandomId:function(b){return Math.floor((Math.random()*1000)+1)+"-"+(b?b:((new Date()).getTime()))},truncate:function(d,c){return(d&&d.length)>c?d.substr(0,c-1)+"..":d},sendPiwikEvent:function(e,g,h){try{Main.PORTAL.UI.CP.trackPageViewPiwikOnly("",h,"",'{"eventName":"'+e+'"}',100,g,"","","")}catch(f){}},log:function(c){try{if(UsageTools._debug){window.console&&console.log(c)}}catch(d){}},isTestEnv:function(){if(this._testEnv!=null){return this._testEnv}var d="";try{d=PORTAL.UI.SETTINGS.env}catch(c){}this._testEnv=(d=="QA"||d=="UAT");return this._testEnv},getPageUrl:function(){try{var d=(typeof Main==="undefined"||typeof Main.location==="undefined");return d?window.location.href:Main.location.href}catch(c){UsageTools.log("Error getting url "+c.message)}return window.location.href},getNodeIdentifier:function(c,d){if(c.className){return c.className}else{if(c.id){return c.id}else{if(c.name){return c.name}else{if(typeof c.parentNode!=="undefined"&&c.parentNode&&d<3){return UsageTools.getNodeIdentifier(c.parentNode,d++)}else{return""}}}}},getTrackerStr:function(b){return b?b+".":""},sendLog:function(c){try{window.console&&console.log("##### "+c)}catch(d){}},restrictMaxTime:function(b){return b>this._maxLoadTimeInMillis?this._maxLoadTimeInMillis:b},validateEvent:function(c){try{if(!this.isTestEnv()){return}if(typeof UsageValidator!="undefined"){UsageValidator.validateEvent(c)}}catch(d){UsageTools.sendLog("Event validation failed: "+d.message)}},_calculateTiming:function(r,q,p,k,l,s,o){var m={};if(r.requestStart!=0&&r.requestStart<r.connectEnd&&r.requestStart>r.navigationStart){m.connectEnd=r.requestStart}else{if(r.responseEnd!=0&&r.responseEnd<r.connectEnd&&r.responseEnd>r.navigationStart){m.connectEnd=r.responseEnd}else{m.connectEnd=r.connectEnd}}if(r.responseEnd==0&&r.domLoading>0){m.responseEnd=r.domLoading}else{m.responseEnd=r.responseEnd}if(r.requestStart>r.responseEnd&&r.connectEnd!=0){m.requestStart=r.connectEnd}else{m.requestStart=r.requestStart}if((k!=0&&q>k)||(l!=0&&q<l)){q=r.domLoading}if(k!=0&&p<l){p=k}if(k==0&&p>l){k=p}if(l!=0){q=l}var n=UsageTools.restrictMaxTime(p<l?-1:p-l);s[o.TOTAL_LOAD_TIME]=n;s[o.EVENT_VALUE]=n;s[o.NETWORK_CONNECT_TIME]=UsageTools.restrictMaxTime((r.navigationStart==0||m.connectEnd==0||r.navigationStart>l)?-1:m.connectEnd-r.navigationStart);s[o.SERVER_RESPONSE_TIME]=UsageTools.restrictMaxTime((m.requestStart==0||m.responseEnd==0||m.requestStart<r.navigationStart||m.requestStart>m.responseEnd)?-1:m.responseEnd-m.requestStart);s[o.DOM_LOAD_TIME]=UsageTools.restrictMaxTime(k==0||r.domLoading<l?-1:k-r.domLoading);s[o.ONLOAD_TO_VIEW_TIME]=UsageTools.restrictMaxTime(p==0||k==0||k>p?-1:p-k);s[o.BROWSER_LOAD_TIME]=UsageTools.restrictMaxTime(p==0||q==0||q>p?-1:p-r.domLoading)},trackPLT:function(M,ab,E){for(var S in ab){if(typeof ab[S].ensureTrackAPI=="function"&&ab[S].ensureTrackAPI()){var O=ab[S]._tracker;if(O&&O.enablePLT){try{var J=(new Date()).getTime();if(!M){M=[{win:window,name:"top",startTime:window.usageStartTime?window.usageStartTime:J}]}for(var D=0;D<M.length;D++){if(!M[D]){continue}var F={};var R="100";F[O.TRACKING_SOURCE]=O.getTrackingSourceMapping(R);if(O.TRACKING_TYPE){F[O.TRACKING_TYPE]=GaTracker.prototype.getTrackingTypeByTrackingSource(R)}if(O.nonInteraction){F.nonInteraction=1}var C="unknown";try{C=M[D].name?M[D].name:(M[D].win===top?"top":M[D].win.name)}catch(K){}C=C.substring(0,C.indexOf("&")>-1?C.indexOf("&"):C.length);if(C!="Main"&&C!="CPB"){continue}var T="";try{T=M[D].win.location.href}catch(aa){}var W=M[D].endTime?M[D].endTime*1:J;var I=M[D].cpEndTime?M[D].cpEndTime*1:(M[D].endTime?M[D].endTime*1:J);F[O.EVENT_CATEGORY]="PageLoadTime";F[O.EVENT_ACTION]=C?C:"Unknown";var G=typeof M[D].requestId==="undefined"?null:M[D].requestId;if(!G){try{G=Main.cpb.getRequestId()}catch(ac){}if(!G){G=UsageTools.createRandomId(W)}}F[O.REQUEST_ID]=G+"-"+D;if(T){F[O.PAGE_URL]=T}F[O.TIME_STAMP]=UsageTools.getUTCTime();var L=-1;var Q=-1;if(E._page_menu_code&&!F[O.MENU_CODE]){F[O.MENU_CODE]=E._page_menu_code}if(M[D].startTime){M[D].startTime=(M[D].startTime*1);L=UsageTools.restrictMaxTime(W-M[D].startTime)}if((C=="CPB")&&M[D].cpStartTime){M[D].cpStartTime=M[D].cpStartTime*1;Q=UsageTools.restrictMaxTime(I-M[D].cpStartTime);F[O.CUSTOM_METRIC_1]=L;F[O.BROWSER_LOAD_TIME]=Q;F[O.EVENT_VALUE]=Q;F[O.PAGE_ID]=M[D].PAGE_ID}else{F[O.BROWSER_LOAD_TIME]=L;F[O.EVENT_VALUE]=L}var U=null;var V=null;var H=null;try{U=M[D].win;var N=U.name;V=U.performance||U.mozPerformance||U.msPerformance||U.webkitPerformance;H=V.timing}catch(Y){}if(U==null||V==null||H==null){if(L>0){O.event(F)}continue}try{if(V.timing){var P=V.timing;if(!!V&&V.navigation.type===2){}else{UsageTools._getPerformaceMatricsFromBrowser(P,M[D],F,W,I,C,O);O.event(F)}}}catch(Z){UsageTools.sendLog("onPageReadyForUser: Access performance "+U+" err="+Z.message)}}}catch(X){UsageTools.sendLog("PageLoadTime send: "+X.message)}}}}},trackBrowserPLT:function(C,O,y){for(var G in O){if(typeof O[G].ensureTrackAPI=="function"&&O[G].ensureTrackAPI()){var D=O[G]._tracker;if(D&&D.enablePLT){try{var B=(new Date()).getTime();if(!C){C=[{win:window,name:"top",startTime:window.usageStartTime?window.usageStartTime:B}]}for(var x=0;x<C.length;x++){if(!C[x]){continue}var z={};var F="100";z[D.TRACKING_SOURCE]=D.getTrackingSourceMapping(F);if(D.TRACKING_TYPE){z[D.TRACKING_TYPE]=GaTracker.prototype.getTrackingTypeByTrackingSource(F)}if(D.nonInteraction){z.nonInteraction=1}var w="top";var H="";try{H=C[x].location.href}catch(N){}if(H){z[D.PAGE_URL]=H}z[D.EVENT_CATEGORY]="PageLoadTime";z[D.EVENT_ACTION]=w?w:"top";z[D.TIME_STAMP]=UsageTools.getUTCTime();if(y._page_menu_code&&!z[D.MENU_CODE]){z[D.MENU_CODE]=y._page_menu_code}if(C[x].startTime){C[x].startTime=(C[x].startTime*1);val=UsageTools.restrictMaxTime(now-C[x].startTime)}var I=null;var J=null;var A=null;try{I=C[x];var v=I.name;J=I.performance||I.mozPerformance||I.msPerformance||I.webkitPerformance;A=J.timing}catch(L){}try{if(J.timing){var E=J.timing;if(!!J&&J.navigation.type===2){}else{UsageTools._getPerformaceMatricsFromBrowser(E,C[x],z,0,0,w,D);D.event(z)}}}catch(M){UsageTools.sendLog("onPageReadyForUser: Access performance "+I+" err="+M.message)}}}catch(K){UsageTools.sendLog("PageLoadTime send: "+K.message)}}}}},_getPerformaceMatricsFromBrowser:function(B,q,C,z,r,u,v){var y=0;if(B.loadEventEnd!=0){y=B.loadEventEnd}else{if(B.loadEventStart!=0){y=B.loadEventStart}else{if(B.domComplete!=0){y=B.domComplete}}}if(y!=0){z=y;r=y}var p=0;if(B.domContentLoadedEventEnd!=0){p=B.domContentLoadedEventEnd}else{if(B.domContentLoadedEventStart!=0){p=B.domContentLoadedEventStart}else{if(B.domInteractive!=0){p=B.domInteractive}}}var A=0;if(B.navigationStart!=0){A=B.navigationStart}else{if(B.requestStart!=0){A=B.requestStart}}var t=B.navigationStart+","+B.connectEnd+","+B.requestStart+","+B.responseEnd+","+B.domLoading+","+q.startTime+","+y+","+z;UsageTools._calculateTiming(B,q.startTime,z,p,A,C,v);if(u=="CPB"){t=t+","+q.cpStartTime+","+r;var w=C[v.TOTAL_LOAD_TIME];var s=C[v.ONLOAD_TO_VIEW_TIME];var x=C[v.BROWSER_LOAD_TIME];UsageTools._calculateTiming(B,q.cpStartTime,r,p,A,C,v);C[v.CUSTOM_METRIC_1]=x;C[v.CUSTOM_METRIC_2]=w;C[v.CUSTOM_METRIC_3]=s}C[v.DEBUG_TEXT]=t},validate:function(d,f){try{if(!UsageTools.isTestEnv()){return}if(typeof UsageValidator!="undefined"){UsageValidator.validatePageView(d,f)}}catch(e){UsageTools.sendLog("Page validate failed: "+e.message)}}};window.UsageListener=window.UsageListener||{_listenerAdded:false,_scrollCounter:0,_clickCount:0,_lastScrollValue:0,_refer:null,setupAutoListeners:function(f,d,e){this._refer=d;if(this._listenerAdded){return}this._listenerAdded=true;if(e){this._initClickListener(window,null,window.document,"init",f)}this._addCVMainFrameNavigateListener(f)},_initClickListener:function(k,j,f,h,g){this._addOnLoadListener(k,j,f,h,g);this._addClickListener(k,j,f,h,g)},_addOnLoadListener:function(p,s,l,m,e,q){try{if(!p){return}var n="";try{n=p.name+(s!=null?s.name+s.id:"")}catch(o){}if(s==null){UsageTools.log("frame not found to register onload win="+n+" from="+m);return}if(typeof s.usageOnLoadRegistered=="undefined"){s.usageOnLoadRegistered=true;UsageTools.log("Registering onloadframe="+n+" from="+m);this._addEvent(s,"load",function(b){try{UsageTools.log("onload triggered win="+n);var a=null;try{a=s.contentDocument}catch(c){}UsageListener._addClickListener(p,s,a,"onload",e);UsageListener._addScrollListener(a,e)}catch(d){UsageTools.sendLog("onload error "+d.message)}},false)}else{UsageTools.log("Already onload registered. ignoring from="+m+" frame="+n)}}catch(r){UsageTools.sendLog("_addOnLoadListener: from="+m+" msg="+r.message+" frame="+n)}},_addClickListener:function(o,n,p,l,m){var e="";try{e=o.name+(n!=null?n.name+n.id:"")}catch(q){}try{if(p){if(typeof p.usageClickRegistered=="undefined"){p.usageClickRegistered=true;this._addEvent(p,"mouseup",function(a){UsageListener._onclick(a,m)},true);UsageTools.log("registered click frame="+e)}else{UsageTools.log("Already click registered. ignoring. from="+l+" frame="+e)}this._findChildFrames(o,n,p,l,m,0)}else{UsageTools.log("Unable to find document: from="+l+" frame="+e)}}catch(k){UsageTools.sendLog("_addClickListener: from="+l+" msg="+k.message+" frame="+e)}},_onclick:function(f,g){UsageListener._clickCount++;try{if(g.length>0){f.EVENT_ID=(g[0]._userId||" ")+"_"+new Date().getTime()}}catch(h){console.log(h)}for(var e in g){if(typeof g[e].ensureTrackAPI=="function"&&g[e].ensureTrackAPI()){UsageListener.sendClick(g[e]._tracker,f)}}},_findChildFrames:function(u,z,e,p,v,A){var s="";try{s=u.name+(z!=null?z.name+z.id:"")}catch(t){}try{UsageTools.log("recursing frame "+s+" from="+p);if(e!=null){var q=e.getElementsByTagName("iframe");for(var w=0;w<q.length;w++){var x=false;try{var r=q[w].contentDocument;x=true}catch(y){}if(!x){if(w==0){UsageTools.log(w+" No access to frame "+s+" from="+p+" Retry after some time");if(A<3){A=A+1;window.setTimeout(function(){UsageListener._findChildFrames(u,z,e,p+"delay",v,A)},2000)}return}else{UsageTools.log(w+" No access to content document frame="+s+" from="+p)}}else{try{this._processChildFrame(q[w].contentWindow,q[w],q[w].contentDocument,p,v,w)}catch(t){}}}}else{UsageTools.log("find child doc is null")}}catch(y){UsageTools.sendLog("recurse frame: from="+p+" msg="+y.message+" frame="+s)}},_processChildFrame:function(p,r,l,m,q,o){try{var n=typeof r.style!="undefined"?r.style.display:"";var s=typeof r.style!="undefined"?r.style.visibility:"";UsageTools.log(o+" recursing child found "+r.name+r.id+" w="+r.innerWidth+" d="+n+"v="+s);if(r.innerWidth<50||n=="none"||s=="hidden"){UsageTools.log(o+" Ignored child found "+r.name+r.id+" w="+r.innerWidth+" d="+n+"v="+s);return}UsageTools.log(o+" ### Found frame "+r.name+r.id);this._initClickListener(p,r,l,"recurse",q)}catch(k){UsageTools.sendLog(o+" Ignoring. No access to frame: index="+i+" msg="+k.message)}},_addScrollListener:function(d,f){try{this._addEvent(d,"scroll",function(a){UsageListener._onScroll(a,d,f)},false)}catch(e){UsageTools.sendLog("Scroll register: "+e.message)}},_onScroll:function(f,e,g){var h=++UsageListener._scrollCounter;setTimeout(function(){UsageListener.triggerScrollEvent(g,f,e,h)},2000)},_addEvent:function(h,j,k,g){try{if(!h){return}if(h.attachEvent){h["e"+j+k]=k;h[j+k]=function(a){h["e"+j+k](a?a:window.event)};h.attachEvent("on"+j,h[j+k])}else{h.addEventListener(j,k,g)}}catch(f){UsageTools.sendLog("Add Event: "+f.message)}},_addCVMainFrameNavigateListener:function(b){this._addEvent(window,"message",function(a){try{var h=a.data;if(!h){return}var j=h.type;if(!j){try{h=JSON.parse(h);j=h.type}catch(g){}}if(j=="NAVIGATION"||a.data=="tab_change"){UsageTools.log("Main frame navigated or tab changed"+a.data);UsageListener._initClickListener(window.Main,window.Main.frameElement,window.Main.frameElement.contentDocument,"MainNavigate",b)}}catch(k){UsageTools.sendLog("_addCVMainFrameNavigateListener: "+k.message)}},false)},sendClick:function(x,s){UsageTools.log("clicked...");if(UsageListener._clickCount>50){return}try{if(!s){return}var v=s.target||s.srcElement;if(!v){return}var u=v.nodeName?v.nodeName.toLowerCase():null;if(u==null||u=="html"||u=="body"||(u=="input"&&(v.type!="button"&&v.type!="submit"))){return}try{if(v.getAttribute("__shortcut")){return}}catch(q){}var B=UsageTools.getNodeIdentifier(v,0);if(x.autoClickExcludePattern&&x.autoClickExcludePattern.test(B)){return}if(B){B=B.toString();if(B.indexOf("cv_mb_dropdown")>=0&&B.indexOf("cv_mb_active")<0){return}}var t="";if(v.innerHTML&&v.innerHTML.length<100){t=v.innerHTML.replace(/(<([^>]+)>)/ig,"").replace(/^\s+|\s+$/g,"")}if(t==""){t=v.title||v.alt||v.name||v.nodeName}var C={};var A="100";C[x.SOURCE_TEAM]="UsageAnalytics";C[x.TRACKING_SOURCE]=x.getTrackingSourceMapping(A);if(C[x.TRACKING_TYPE]){C[x.TRACKING_TYPE]=GaTracker.prototype.getTrackingTypeByTrackingSource(A)}C[x.EVENT_CATEGORY]="Clicked";C[x.EVENT_ACTION]=UsageTools.truncate(t,50);C[x.EVENT_LABEL]=UsageTools.truncate(B,50);try{if(!(typeof Main==="undefined"||typeof Main.cpb==="undefined")){var y=Main.cpb.getLastClickedPortlet();if(y&&(new Date().getTime()-y.clickTime)<=200){C[x.PORTLET_NAME]=y.title;C[x.PORTLET_CODE]=y.code;if(x.piwikTracking&&x.piwikTracking.loginId){C[x.CUSTOM_DIMENSION_20]=x.piwikTracking.loginId+"_"+y.clickTime}else{C[x.CUSTOM_DIMENSION_20]=y.clickTime}C[x.CONTENT_PROVIDER]=y.content_provider?y.content_provider:Main.cpb.getPageContentProvider();if(Main.COMPOSITE_PAGE_SERVICE&&Main.COMPOSITE_PAGE_SERVICE.getLastLevelTabInfo()){C[x.TAB_NAME]=Main.COMPOSITE_PAGE_SERVICE.getLastLevelTabInfo()["active_tab_name"]}}}}catch(r){UsageTools.log("Error getting Main "+r.message)}if(!C[x.PORTLET_CODE]&&!C[x.PORTLET_NAME]){var z=UsageListener.getPortletId(v,0);if(z){C[x.PORTLET_NAME]=z}}C[x.PAGE_URL]=UsageTools.getPageUrl();try{if(C[x.EVENT_ACTION].replace(/\s/g,"").length==0){return}}catch(w){return}if(this._refer._page_menu_code&&!C[x.MENU_CODE]){C[x.MENU_CODE]=this._refer._page_menu_code}else{if(!this._refer._page_menu_code&&!C[x.MENU_CODE]){try{C[x.MENU_CODE]=top.prtl.navigation.getCurrentMenuNode().shortcut}catch(w){}}}if(this.lastSend&&(new Date()-this.lastSend)<200){return}try{if(x._isGlassbox){C.EVENT_ID=s.EVENT_ID}else{if(!C[x.CUSTOM_DIMENSION_20]){C[x.CUSTOM_DIMENSION_20]=s.EVENT_ID}}}catch(w){console.log(w)}x.submit("event",C,x);this.lastSend=new Date()}catch(e){UsageTools.sendLog("Click send: "+e+" msg="+e.message)}},getPortletId:function(f,e){if(e>5){return null}var d=f.parentElement||f.parentNode;if(d&&d.id){return d.id.replace(/[0-9]/g,"").split("_")[0]||d.id}else{if(d){return UsageListener.getPortletId(d,++e)}else{return null}}},triggerScrollEvent:function(s,o,p,t){if(t<this._scrollCounter){return}try{var l=(p.height!==undefined)?p.height:p.body.offsetHeight;var u=window.innerHeight||p.documentElement.clientHeight||p.body.clientHeight||0;var m=(p.documentElement||p.body.parentNode||p.body).scrollTop;var q=m!=0?Math.round(((m+u)/l)*100):0;if(q>100){q=100}if(q<=UsageListener._lastScrollValue){return}UsageListener._lastScrollValue=q;for(var r in s){if(typeof s[r].ensureTrackAPI=="function"&&s[r].ensureTrackAPI()){UsageListener.sendScrollEvent(s[r]._tracker)}}}catch(n){UsageTools.sendLog("Scroll send: "+n.message)}},sendScrollEvent:function(e){var f={};var g="100";f[e.SOURCE_TEAM]="UsageAnalytics";f[e.TRACKING_SOURCE]=e.getTrackingSourceMapping(g);if(e.TRACKING_TYPE){f[e.TRACKING_TYPE]=GaTracker.prototype.getTrackingTypeByTrackingSource(g)}f[e.EVENT_CATEGORY]="Scroll";f[e.EVENT_ACTION]="scroll";f[e.EVENT_LABEL]="scroll";f[e.EVENT_VALUE]=UsageListener._lastScrollValue;if(e.nonInteraction){f.useBeacon=true}if(this._refer._page_menu_code&&!f[e.MENU_CODE]){f[e.MENU_CODE]=this._refer._page_menu_code}else{if(!this._refer._page_menu_code&&!f[e.MENU_CODE]){try{f[e.MENU_CODE]=top.prtl.navigation.getCurrentMenuNode().shortcut}catch(h){}}}e.event(f)},reset:function(){UsageListener._lastScrollValue=0;UsageListener._clickCount=0}};"use strict";function UsageProPluginImpl(){this._sites={};this._variablesInitialized=false;this._cvchatJSLoaded=false;this._scriptLoaded=false;this._pageViewSent=false;this._functionName=window.usageCvchatFunctionName?window.usageCvchatFunctionName:"citicvchat";this.enablePLT=true;this.nonInteraction=false;this.piwikTracking=null;this.lastSend=null;this._ver="$Rev: 4678 $".replace(/\D+/g,"");this.USER_ID="loginId";this.PAGE_HIERARCHY_PATH="menuNavigationPath";this.TRACKING_SOURCE="trackingSource";this.TAB_NAME="tabName";this.PORTLET_NAME="portletName";this.PORTLET_CODE="portletCode";this.CONTENT_SOURCE="contentSourceId";this.SOURCE_TEAM="SOURCE";this.TIME_STAMP="TIME_STAMP";this.DEVICE_TYPE="DEVICE_TYPE";this.APP_NAME="APPLICATION";this.CONTENT_PROVIDER="CONTENT_PROVIDER";this.APP_VERSION="APP_VERSION";this.BROWSER_LOAD_TIME="BROWSER_LOAD_TIME";this.NETWORK_CONNECT_TIME="NETWORK_CONNECT_TIME";this.SERVER_RESPONSE_TIME="SERVER_RESPONSE_TIME";this.DOM_LOAD_TIME="DOM_LOAD_TIME";this.TOTAL_LOAD_TIME="TOTAL_LOAD_TIME";this.ONLOAD_TO_VIEW_TIME="ONLOAD_TO_VIEW_TIME";this.MENU_CODE="menuCode";this.REQUEST_ID="REQUEST_ID";this.PAGE_ID="PAGE_ID";this.EVENT_CATEGORY="eventCategory";this.EVENT_ACTION="eventAction";this.EVENT_LABEL="eventLabel";this.EVENT_VALUE="eventValue";this.DEBUG_TEXT="DEBUG_TEXT";this.CUSTOM_DIMENSION_1="cd1";this.CUSTOM_DIMENSION_2="cd2";this.CUSTOM_DIMENSION_3="cd3";this.CUSTOM_DIMENSION_4="cd4";this.CUSTOM_DIMENSION_5="cd5";this.CUSTOM_DIMENSION_6="cd6";this.CUSTOM_DIMENSION_7="cd7";this.CUSTOM_DIMENSION_8="cd8";this.CUSTOM_DIMENSION_9="cd9";this.CUSTOM_DIMENSION_10="cd10";this.CUSTOM_DIMENSION_11="cd11";this.CUSTOM_DIMENSION_12="cd12";this.CUSTOM_DIMENSION_13="cd13";this.CUSTOM_DIMENSION_14="cd14";this.CUSTOM_DIMENSION_15="cd15";this.CUSTOM_DIMENSION_16="cd16";this.CUSTOM_DIMENSION_17="cd17";this.CUSTOM_DIMENSION_18="cd18";this.CUSTOM_DIMENSION_19="cd19";this.CUSTOM_DIMENSION_20="cd20";this.CUSTOM_METRIC_1="cm1";this.CUSTOM_METRIC_2="cm2";this.CUSTOM_METRIC_3="cm3";this.CUSTOM_METRIC_4="cm4";this.CUSTOM_METRIC_5="cm5";this.CUSTOM_METRIC_6="cm6";this.CUSTOM_METRIC_7="cm7";this.CUSTOM_METRIC_8="cm8";this.CUSTOM_METRIC_9="cm9";this.CUSTOM_METRIC_10="cm10";this.CUSTOM_METRIC_11="cm11";this.CUSTOM_METRIC_12="cm12";this.CUSTOM_METRIC_13="cm13";this.CUSTOM_METRIC_14="cm14";this.CUSTOM_METRIC_15="cm15";this.CUSTOM_METRIC_16="cm16";this.CUSTOM_METRIC_17="cm17";this.CUSTOM_METRIC_18="cm18";this.CUSTOM_METRIC_19="cm19";this.CUSTOM_METRIC_20="cm20";this.USER_TYPE="USER_TYPE";this.TIME_STAMP="TIME_STAMP";this.ENV="ENV";this.ZONE="ZONE";this.PORTAL="PORTAL";this.PAGE_URL="PAGE_URL"}"use strict";UsageProPluginImpl.prototype.envRootUrlMap={DEV:"https://uat.citivelocity.com",QA:"https://uat.citivelocity.com",UAT:"https://uat.citivelocity.com",PROD:"https://www.citivelocity.com"};UsageProPluginImpl.prototype.piwikBridgeNoPiwikURL="/ua/cv/akpublic/api/piwik-bridge-without-piwik.min.js?v=3";UsageProPluginImpl.prototype.piwikBridgePiwikURL="/ua/cv/akpublic/api/piwik-bridge-with-piwik.min.js?v=3";UsageProPluginImpl.prototype.init=function(c){try{this._initVariables();this._loadScript(c)}catch(d){UsageTools.sendPiwikEvent("UsageProPluginImplInitError"+d.message)}};UsageProPluginImpl.prototype._initVariables=function(){if(this._variablesInitialized){return}this._variablesInitialized=true;var b=this._functionName;window.CVChatTrackerObject=b;window[b]=window[b]||function(){(window[b].q=window[b].q||[]).push(arguments)};if(window.usageStartTime){window[b].l=window.usageStartTime}else{window[b].l=1*new Date()}window[b](function(){this._omnitureJSLoaded=true})};UsageProPluginImpl.prototype._loadScript=function(g){if(this._scriptLoaded){return}if(window._piwikScriptLoaded){return}var h=document.createElement("script");var a=document.getElementsByTagName("script")[0];h.async=0;var f;if(window.Piwik){f=this.piwikBridgeNoPiwikURL}else{f=this.piwikBridgePiwikURL}if(g&&this.envRootUrlMap[g]){h.src=this.envRootUrlMap[g]+f}else{h.src=f}this._scriptLoaded=true;window._piwikScriptLoaded=true;a.parentNode.insertBefore(h,a)};UsageProPluginImpl.prototype._setPageParameters=function(b){if(!b){return}this.submit("set",b,this)};UsageProPluginImpl.prototype.addTracker=function(h,j,k){try{if(!this._variablesInitialized){this.init(j.ENV)}if(this._sites[k?k:"default"]){return}this._sites[k?k:"default"]=h;var f={siteId:h,env:j.ENV,disableBulk:j.DISABLE_BULK,enableHeartBeatTimer:j.ENABLE_HEARTBEATTIMER,enableForceGET:j.ENABLE_FORCEGET,};this.submit("create",f,this);if(j){this.submit("set",j,this)}}catch(g){UsageTools.sendPiwikEvent("UsageProPluginImplInitError"+g.message)}};UsageProPluginImpl.prototype.pageView=function(j,h,f){if(!this._variablesInitialized){this.init()}try{if(h){h[this.TIME_STAMP]=UsageTools.getUTCTime()}if(f){for(var g in f){h[g]=f[g]}}this._setPageParameters(j);this.submit("pageview",h,this);UsageTools.validate(j,h);this._pageViewSent=true}catch(k){UsageTools.sendPiwikEvent("CvChatPageview: "+k.message)}};UsageProPluginImpl.prototype.submit=function(){if(!UsageTools.enabled){return}try{if(arguments&&arguments.length>=1&&arguments[0]=="event"){UsageTools.validateEvent(arguments);if(this._pageViewSent==false){}if(arguments.length>1&&(!arguments[1][this.TIME_STAMP])){arguments[1][this.TIME_STAMP]=UsageTools.getUTCTime()}}}catch(b){UsageTools.sendPiwikEvent("UsageProPluginImpl submit: "+b.message)}window[this._functionName].apply(this,arguments)};UsageProPluginImpl.prototype.event=function(c,d){if(this.lastSend&&(new Date()-this.lastSend)<200){return}this.lastSend=new Date();this.submit("event",c,this)};UsageProPluginImpl.prototype.getTrackingSourceMapping=function(b){return b};"use strict";function GlassBoxPluginImpl(){this._sites={};this._variablesInitialized=false;this._cvchatJSLoaded=false;this._scriptLoaded=false;this._pageViewSent=false;this._functionName=window.usageCvchatFunctionName?window.usageCvchatFunctionName:"citicvchat";this.enablePLT=true;this.nonInteraction=false;this.piwikTracking=null;this.lastSend=null;this._ver="$Rev: 4678 $".replace(/\D+/g,"");this.USER_ID="loginId";this.PAGE_HIERARCHY_PATH="menuNavigationPath";this.TRACKING_SOURCE="trackingSource";this.TAB_NAME="tabName";this.PORTLET_NAME="portletName";this.PORTLET_CODE="portletCode";this.CONTENT_SOURCE="contentSourceId";this.SOURCE_TEAM="SOURCE";this.TIME_STAMP="TIME_STAMP";this.DEVICE_TYPE="DEVICE_TYPE";this.APP_NAME="APPLICATION";this.CONTENT_PROVIDER="CONTENT_PROVIDER";this.APP_VERSION="APP_VERSION";this.BROWSER_LOAD_TIME="BROWSER_LOAD_TIME";this.NETWORK_CONNECT_TIME="NETWORK_CONNECT_TIME";this.SERVER_RESPONSE_TIME="SERVER_RESPONSE_TIME";this.DOM_LOAD_TIME="DOM_LOAD_TIME";this.TOTAL_LOAD_TIME="TOTAL_LOAD_TIME";this.ONLOAD_TO_VIEW_TIME="ONLOAD_TO_VIEW_TIME";this.MENU_CODE="menuCode";this.REQUEST_ID="REQUEST_ID";this.PAGE_ID="PAGE_ID";this.EVENT_CATEGORY="eventCategory";this.EVENT_ACTION="eventAction";this.EVENT_LABEL="eventLabel";this.EVENT_VALUE="eventValue";this.DEBUG_TEXT="DEBUG_TEXT";this.CUSTOM_DIMENSION_1="cd1";this.CUSTOM_DIMENSION_2="cd2";this.CUSTOM_DIMENSION_3="cd3";this.CUSTOM_DIMENSION_4="cd4";this.CUSTOM_DIMENSION_5="cd5";this.CUSTOM_DIMENSION_6="cd6";this.CUSTOM_DIMENSION_7="cd7";this.CUSTOM_DIMENSION_8="cd8";this.CUSTOM_DIMENSION_9="cd9";this.CUSTOM_DIMENSION_10="cd10";this.CUSTOM_DIMENSION_11="cd11";this.CUSTOM_DIMENSION_12="cd12";this.CUSTOM_DIMENSION_13="cd13";this.CUSTOM_DIMENSION_14="cd14";this.CUSTOM_DIMENSION_15="cd15";this.CUSTOM_DIMENSION_16="cd16";this.CUSTOM_DIMENSION_17="cd17";this.CUSTOM_DIMENSION_18="cd18";this.CUSTOM_DIMENSION_19="cd19";this.CUSTOM_DIMENSION_20="cd20";this.CUSTOM_METRIC_1="cm1";this.CUSTOM_METRIC_2="cm2";this.CUSTOM_METRIC_3="cm3";this.CUSTOM_METRIC_4="cm4";this.CUSTOM_METRIC_5="cm5";this.CUSTOM_METRIC_6="cm6";this.CUSTOM_METRIC_7="cm7";this.CUSTOM_METRIC_8="cm8";this.CUSTOM_METRIC_9="cm9";this.CUSTOM_METRIC_10="cm10";this.CUSTOM_METRIC_11="cm11";this.CUSTOM_METRIC_12="cm12";this.CUSTOM_METRIC_13="cm13";this.CUSTOM_METRIC_14="cm14";this.CUSTOM_METRIC_15="cm15";this.CUSTOM_METRIC_16="cm16";this.CUSTOM_METRIC_17="cm17";this.CUSTOM_METRIC_18="cm18";this.CUSTOM_METRIC_19="cm19";this.CUSTOM_METRIC_20="cm20";this.USER_TYPE="USER_TYPE";this.TIME_STAMP="TIME_STAMP";this.ENV="ENV";this.ZONE="ZONE";this.PORTAL="PORTAL";this.PAGE_URL="PAGE_URL";this._dicMap={deviceType:"DEVICE_TYPE",eventId:"EVENT_ID",eventAction:"EVENT_ACTION",eventCategory:"EVENT_CATEGORY",eventType:"EVENT_TYPE",eventLabel:"EVENT_LABEL",eventValue:"EVENT_VALUE",portletName:"PORTLET_NAME",portletCode:"PORTLET_CODE",contentSource:"CONTENT_SOURCE",contentId:"CONTENT_ID",contentProvider:"CONTENT_PROVIDER",clickPath:"CLICK_PATH",pageHierarchyPath:"PAGE_HIERARCHY_PATH",pageTitle:"PAGE_TITLE",portal:"PORTAL",portalProfile:"PORTAL_PROFILE",tabName:"TAB_NAME",source:"EVENT_SOURCE",userId:"USER_ID",requestId:"REQUEST_ID",mimicedUserId:"MIMICED_USER_ID",csi:"CSI",url:"URL",zone:"ZONE",userType:"USER_TYPE",epochTimestampt:"EPOCH_TIMESTAMPT",readableTimestamp:"READABLE_TIMESTAMP",application:"APPLICATION",loginId:"USER_ID",menuCode:"MENU_CODE",menuNavigationPath:"MENU_NAVIGATION_PATH",trackingSource:"TRACKING_SOURCE"}}GlassBoxPluginImpl.prototype.envRootUrlMap={DEV:"",QA:"",UAT:"",PROD:""};GlassBoxPluginImpl.prototype.portalAPIURL="/epf-ua/eppublic/js/api/portalApi_tracker.js?v="+new Date().getTime();GlassBoxPluginImpl.prototype.envRootUrlMap={DEV:"",QA:"https://qa.citivelocity.com",UAT:"https://uat.citivelocity.com",PROD:"https://www.citivelocity.com",};GlassBoxPluginImpl.prototype.init=function(c){try{this._initVariables();this._loadScript(c)}catch(d){UsageTools.sendPiwikEvent("GlassBoxPluginImplInitError"+d.message)}};GlassBoxPluginImpl.prototype._initVariables=function(){if(this._variablesInitialized){return}this._variablesInitialized=true;this._loadScripted=true;this.taskArr=[];window._glassBoxPluginImpl=this;this.dataHandle=function(){this.taskArr.push(arguments)}};GlassBoxPluginImpl.prototype._loadScript=function(j){try{if(window._glassBoxPluginImpl&&window._glassBoxPluginImpl._scriptLoaded){this._setTrackerApi();this._handleHistoryWork();return}}catch(e){console.log(e)}var k=document.createElement("script");var a=document.getElementsByTagName("script")[0];k.async=0;var h=this.portalAPIURL;if(j&&this.envRootUrlMap[j]){k.src=this.envRootUrlMap[j]+h}else{k.src=h}this._scriptLoaded=true;k.onload=function(){window._glassBoxPluginImpl._setTrackerApi();window._glassBoxPluginImpl._handleHistoryWork()};k.onerror=function(){window._glassBoxPluginImpl._loadScripted=false};a.parentNode.insertBefore(k,a)};GlassBoxPluginImpl.prototype._setTrackerApi=function(){var b={CSI:"12345"};this._trackerApi=window.PORTAL.UA.getEventTracker({CSI:12345});this.dataHandle=function(a,d){if(!d.EVENT_ID){d.EVENT_ID=(d.USER_ID||this._siteParams.loginId||" ")+"_"+new Date().getTime()}d.IS_FROM_PIWIK=true;if(d.CUSTOM_PARAM!=undefined){d.CUSTOM_PARAM.piwikJS="Y"}else{d.CUSTOM_PARAM={piwikJS:"Y"}}this._trackerApi.triggerCustomEvent(a,d);console.log("send to glassbox",a)}};GlassBoxPluginImpl.prototype._handleHistoryWork=function(){for(var b in this.taskArr){this.dataHandle(this.taskArr[b][0],this.taskArr[b][1])}};GlassBoxPluginImpl.prototype.addTracker=function(g,h,e){try{if(!this._variablesInitialized){this.init(h.ENV)}if(this._sites[e?e:"default"]){return}this._sites[e?e:"default"]=g;this._siteParams=h;this._isGlassbox=true}catch(f){UsageTools.sendPiwikEvent("GlassBoxPluginImplInitError"+f.message)}};GlassBoxPluginImpl.prototype.pageView=function(k,j,h){if(!this._variablesInitialized){this.init()}if(!this._loadScripted){return}try{if(j){j[this.TIME_STAMP]=UsageTools.getUTCTime()}this._copyAttr(k,j);this._copyAttr(h,j);var f=this._getPageEventDetails(j);this.submit("pageview",f);UsageTools.validate(k,j);this._pageViewSent=true}catch(g){UsageTools.sendPiwikEvent("Pageview: "+g.message)}};GlassBoxPluginImpl.prototype._getPageEventDetails=function(c){var d={};d.EVENT_ACTION="view";d.CUSTOM_PARAM=this._getCustomParam(c);this._copyAttr(c,d);return d};GlassBoxPluginImpl.prototype._getCustomParam=function(g){var f={};var h=["cd1","cd2","cd3","cd4","cd5","cd6","cd7","cd8"];for(var e in h){if(g[h[e]]!==undefined){f[h[e]]=g[h[e]];delete g[h[e]]}}return f};GlassBoxPluginImpl.prototype._copyAttr=function(f,d){if(!f){return}for(var e in f){if(this._dicMap.hasOwnProperty(e)){d[this._dicMap[e]]=f[e]}else{d[e]=f[e]}}};GlassBoxPluginImpl.prototype.submit=function(d,f){if(!UsageTools.enabled){return}try{if(arguments&&arguments.length>=1&&d=="event"){UsageTools.validateEvent(arguments);if(arguments.length>1&&(!arguments[1][this.TIME_STAMP])){f[this.TIME_STAMP]=UsageTools.getUTCTime()}}}catch(e){UsageTools.sendPiwikEvent("GlassBoxPluginImpl submit: "+e.message)}this.dataHandle(d,f)};GlassBoxPluginImpl.prototype.event=function(f,d){if(this.lastSend&&(new Date()-this.lastSend)<200){return}this.lastSend=new Date();var e=this._getEventDetail(f);this.submit("event",e)};GlassBoxPluginImpl.prototype.addEventId=function(f,e){if(f.EVENT_ID!==undefined){f.EVENT_ID=f.EVENT_ID+"_"+e}else{var d=new Date(f.TIME_STAMP||new Date());f.EVENT_ID=(f.USER_ID||"")+"_"+d.getTime()+"_"+e}};GlassBoxPluginImpl.prototype._getEventDetail=function(c){var d={};d.EVENT_ACTION="event";d.CUSTOM_PARAM=this._getCustomParam(c);this._copyAttr(c,d);this._copyAttr(this._siteParams,d);return d};GlassBoxPluginImpl.prototype.getTrackingSourceMapping=function(b){return b};window.GaTracker=function(w,y,A,q,t,C,v,r,B){if(arguments.length<3&&typeof arguments[0]=="object"){this._env=arguments[0].ENV||null;this._piwikUserId=arguments[0].USER_ID||null;this._userId=arguments[0].USER_ID_ENC||null;this._userType=arguments[0].USER_TYPE||null;this._portal=arguments[0].PORTAL||null;this._zone=arguments[0].ZONE||null;this._source=arguments[0].SOURCE_TEAM||null;this._application=arguments[0].APPLICATION||null;this._siteId=arguments[0].SITE_ID||null;this._appVersion=arguments[0].APP_VERSION||null;this._profile=arguments[0].PROFILE||null;this._option=arguments[1]}else{this._env=w;this._userId=y;this._userType=A;this._portal=q;this._zone=t;this._source=C;this._piwikUserId=v;this._application=r;this._siteId=B}this._application=this._getAppName();this._deviceType=this._getDeviceType();this._disableBulk=true;if(this._option&&this._option.enableBulk){this._disableBulk=false}this._disableGB=false;this._allowSiteGB=false;try{if(this._option&&this._option.enableGlassbox!=undefined&&!this._option.enableGlassbox){this._disableGB=true}var e=location.href.indexOf("disableGB");if(e!=-1){var x=location.href.slice(e,e+11);if(x.indexOf("Y")!=-1){this._disableGB=true}}var s=["5","6","7","8","9","10","11","12","14","15","17","19","22","26","28","32","37","38","43","47","46","93","160","161","162","163","164","165","166","167","170","171","172","173","174","175","230","231"];if(s.indexOf(this._siteId+"")!=-1){this._allowSiteGB=true}}catch(u){console.log(u)}this._enableHeartBeatTimer=false;if(this._option&&this._option.enableHeartBeatTimer){this._enableHeartBeatTimer=true}this._enablePLTTrigger=false;if(this._option&&this._option.enablePLTTrigger){this._enablePLTTrigger=true}this._disableAutoTrigger=false;if(this._option&&this._option.disableAutoTrigger){this._disableAutoTrigger=true}this._enableForceGet=false;if(this._option&&this._option.enableForceGet){this._enableForceGet=true}if(!this._portal){this._portal="CitiVelocity"}this.trackers=[];if(typeof GaTracker.UsageGooglePlugin=="function"){this.trackers.push(new GaTracker.UsageGooglePlugin(this._env,this._userId,this._userType,this._portal,this._zone,this._source,this._piwikUserId,this._application,this._siteId))}if(typeof GaTracker.UsageAdobePlugin=="function"){this.trackers.push(new GaTracker.UsageAdobePlugin(this._env,this._userId,this._userType,this._portal,this._zone,this._source,this._piwikUserId,this._application,this._siteId))}if(typeof GaTracker.UsageProPlugin=="function"){this.trackers.push(new GaTracker.UsageProPlugin(this._env,this._userId,this._userType,this._portal,this._zone,this._source,this._piwikUserId,this._application,this._siteId,this._deviceType,this._disableBulk,this._enableHeartBeatTimer,this._enableForceGet,this._appVersion,this._profile))}if(typeof GaTracker.GlassBoxPlugin=="function"&&!this._disableGB&&this._allowSiteGB){this.trackers.push(new GaTracker.GlassBoxPlugin(this._env,this._userId,this._userType,this._portal,this._zone,this._source,this._piwikUserId,this._application,this._siteId,this._deviceType,this._disableBulk,this._enableHeartBeatTimer,this._enableForceGet,this._appVersion,this._profile))}if(typeof GaTracker.UsagePiwikPlugin=="function"){this.trackers.push(new GaTracker.UsagePiwikPlugin(this._env,this._userId,this._userType,this._portal,this._zone,this._source,this._piwikUserId,this._application,this._siteId,this._deviceType,this._appVersion))}var z;for(z=0;z<this.trackers.length;z++){this.trackers[z].init()}if(!this._disableAutoTrigger||this._enablePLTTrigger){UsageListener.setupAutoListeners(this.trackers,this,!this._disableAutoTrigger)}};GaTracker.CONSTANTS={MENU_TRACKING:"menu",SEARCH_TRACKING:"search",SEARCH_RESULT_TRACKING:"search_result",DOCUMENT_TRACKING:"document",TAB_TRACKING:"tab",NOTIFICATION_TRACKING:"notification",EVENT_TRACKING:"event",OTHER_TRACKING:"other",DEEPLINKS:"deeplink",SUBSCRIPTION:"subscription",NOTIFICATION:"notification",CV_SUGGEST:"cvsuggest",CAMPAIGN:"campaign"};GaTracker.prototype.plugins=[];GaTracker.prototype._getAppName=function(){if(this._application){return this._application}var f=navigator.userAgent;var d=/(\s|^)CitiApp:(\S*)/;var e=d.exec(f);if(e&&e[2]){return e[2]}else{return"CitivelocityWeb"}};GaTracker.OSDetect=function(){var d={isDesktop:true,isPhone:false,isTablet:false,isMobile:false,isAndroid:false,isAndroidPhone:false,isAndroidTablet:false,isIOS:false,isIPhone:false,isIPad:false,isRimTablet:false,isWindowsPhone:false,isWindowsTablet:false,isBlackberry:false,isMeego:false,isKindle:false,isKindleHD:false,isHybrid:false,isAndroidHybrid:false,isIOSHybrid:false,isWebkit:false,androidVersion:"",userAgent:""};var c={initialize:function(){d.userAgent=this.getUserAgent();this.detectMobile();this.detectHybrid();this.detectDevice();this.detectAndroidVersion();this.detectWebkit()},getUserAgent:function(){return navigator.userAgent||navigator.vendor||window.opera||""},detectMobile:function(){try{d.isMobile=(/android|meego|bb\d+|avantgo|bada\/|blackberry|playBook|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|kfot build|kfjwa build|kfjwi build|kftt build|lge |maemo|midp|mobile|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|windows .+touch|xda|xiino/i.test(d.userAgent))||(/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(d.userAgent.substr(0,4)));return}catch(a){}d.isMobile=false},detectDevice:function(){var a=d.userAgent;this.detectAndroid(a);this.detectIOS(a);this.detectWindows(a);this.detectOtherDevice(a);d.isPhone=d.isAndroidPhone||d.isIPhone||d.isWindowsPhone||d.isMeego||d.isBlackberry;d.isTablet=d.isAndroidTablet||d.isIPad||d.isRimTablet||d.isWindowsTablet||d.isKindle||d.isKindleHD;d.isDesktop=!d.isPhone&&!d.isTablet},detectAndroid:function(b){d.isAndroid=/android/i.test(b);if(/kindle/i.test(b)||(/kfot build/i.test(b))){d.isKindle=true}else{if((/kfjwa build/i.test(b))||(/kfjwi build/i.test(b))||(/kftt build/i.test(b))){d.isKindleHD=true}}if(d.isAndroid){var a=/mobile/i.test(b);var g=/android 2/i.test(b);var h=/android 3/i.test(b);if(h||(!g&&!a)||d.isKindle||d.isKindleHD){d.isAndroidTablet=true}else{d.isAndroidPhone=true}}},detectIOS:function(a){if(/ip(hone|od)/i.test(a)){d.isIPhone=true}else{if(/ipad/i.test(a)){d.isIPad=true}}d.isIOS=d.isIPhone||d.isIPad},detectWindows:function(a){if(/windows (ce|phone)/i.test(a)){d.isWindowsPhone=true}else{if(/windows/i.test(a)&&/touch/i.test(a)){d.isWindowsTablet=true}}},detectOtherDevice:function(a){if(/rim tablet os/i.test(a)){d.isRimTablet=true}else{if(/blackberry/i.test(a)){d.isBlackberry=true}else{if(/meego/i.test(a)){d.isMeego=true}}}},detectWebkit:function(){if(d.userAgent.search("AppleWebKit")>-1){d.isWebkit=true}else{d.isWebkit=false}},detectHybrid:function(){if(d.userAgent.indexOf("inNativeShell")>-1){d.isAndroidHybrid=true;d.isHybrid=true}else{if(d.userAgent.indexOf("isInsideIOSApp")>-1){d.isIOSHybrid=true;d.isHybrid=true}}},detectAndroidVersion:function(){var e=-1,a=8,k=null,m=d.userAgent,l="";e=d.isAndroid?m.indexOf("Android"):-1;if(e>-1){try{k=m.substring(e+a);l=k.substring(0,k.indexOf(";"))}catch(b){l=""}}d.androidVersion=l}};this.initialize=function(){c.initialize()};this.get=function(a){return d[a]}};GaTracker.prototype._getDeviceType=function(){var b=new GaTracker.OSDetect();b.initialize();if(b.get("isPhone")){return"PHONE"}else{if(b.get("isTablet")){return"TABLET"}else{return"DESKTOP"}}};GaTracker.prototype.getTrackingTypeByTrackingSource=function(b){switch(b){case"0":case"1":case"18":case"20":case"22":case"23":case"24":return GaTracker.CONSTANTS.MENU_TRACKING;case"4":return GaTracker.CONSTANTS.OTHER_TRACKING;case"5":case"6":case"7":case"8":case"9":case"17":case"19":case"21":case"25":return GaTracker.CONSTANTS.DOCUMENT_TRACKING;case"2":return GaTracker.CONSTANTS.SEARCH_TRACKING;case"16":return GaTracker.CONSTANTS.TAB_TRACKING;case"100":case"":return GaTracker.CONSTANTS.EVENT_TRACKING;default:return GaTracker.CONSTANTS.MENU_TRACKING}};GaTracker.prototype.translateTrackingSource=function(b){switch(b){case"6":return"DeepLinks";case"7":return"Subscriptions";case"8":return"SearchResults";case"9":return"Notification";case"14":return"CV Suggest";case"16":return"Tabs";case"17":return"Newsletter";case"18":return"Newsletter";case"19":return"EmailDigest";case"20":return"EmailDigest";case"21":return"SendEmail";case"22":return"Icon";case"23":return"Notification";case"24":return"NotificationCenter";case"25":return"Notification";default:return"direct"}};GaTracker.prototype.getRequestIdFromCPB=function(){try{return Main&&Main.cpb&&Main.cpb.getRequestId()}catch(b){}};GaTracker.prototype.getCPNameFromCPB=function(){try{return Main&&Main.cpb&&Main.cpb.getPageContentProvider()}catch(b){}};GaTracker.prototype.getProtletFromCPB=function(e){var f=null;try{f=Main&&Main.cpb&&Main.cpb.getLastClickedPortlet();if(new Date().getTime()-f.clickTime>200){f=null}}catch(d){}if(f){return{name:e||f.title,code:f.code}}};GaTracker.prototype.onPageReadyForUser=function(b){UsageTools.trackPLT(b,this.trackers,this)};GaTracker.prototype.trackContent=function(x,C,E,z,J,H,F,A,D,t,w){var u=null;if(arguments.length==1&&typeof arguments[0]=="object"){u={_opt_portlet:arguments[0].PORTLET_NAME||null,_opt_portlet_code:arguments[0].PORTLET_CODE||null,_contentSourceId:arguments[0].CONTENT_SOURCE||null,_contentId:arguments[0].CONTENT_ID||null,_clickPath:arguments[0].PAGE_HIERARCHY_PATH||null,_pageTitle:arguments[0].PAGE_TITLE||null,_menuCode:arguments[0].MENU_CODE||null,_customUrl:arguments[0].PAGE_URL||null,_trackingSource:arguments[0].TRACKING_SOURCE||null,_requestId:arguments[0].REQUEST_ID||null,_opt_cpName:arguments[0].CONTENT_PROVIDER||null,_obj:arguments[0]}}else{u={_opt_portlet:D,_opt_portlet_code:w,_contentSourceId:C,_contentId:x,_clickPath:J,_pageTitle:H,_menuCode:F,_customUrl:A,_trackingSource:E,_requestId:z,_opt_cpName:t}}if(!u._trackingSource){u._trackingSource="5"}var y=this._getEventId();for(var G in this.trackers){if(typeof this.trackers[G].ensureTrackAPI=="function"&&this.trackers[G].ensureTrackAPI()){var I=this._getPageInformation(this.trackers[G],u._clickPath,u._pageTitle,u._menuCode,u._customUrl,null);var K=this._getRequestInformation(this.trackers[G],u._trackingSource,u._requestId,u._opt_cpName,u._trackingSource,u._opt_portlet,u._opt_portlet_code,u._contentId,u._contentSourceId);var v=u._obj&&this._translateMapping(u._obj,this.trackers[G]);if(v){for(var B in v){K[B]=v[B]}}this._setEventId(this.trackers[G]._tracker,K,y);this.trackers[G].pageView(I,K)}}UsageListener.reset()};GaTracker.prototype.trackNewsLetter=function(E,A,u,C,r,y,B,t,D,s,w){var q=this._getEventId();for(var x in this.trackers){if(typeof this.trackers[x].ensureTrackAPI=="function"&&this.trackers[x].ensureTrackAPI()){var v=this._getPageInformation(this.trackers[x],r,y,B,t,null);var z=this._getRequestInformation(this.trackers[x],GaTracker.CONSTANTS.DOCUMENT_TRACKING,C,s,u,D,null,E,A,w);this._setEventId(this.trackers[x]._tracker,z,q);this.trackers[x].pageView(v,z)}}UsageListener.reset()};GaTracker.prototype.trackPageView=function(r,A,D,t,v,E,s,x){var B=null;if(arguments.length==1&&typeof arguments[0]=="object"){B={_clickPath:arguments[0].PAGE_HIERARCHY_PATH||null,_pageTitle:arguments[0].PAGE_TITLE||null,_menuCode:arguments[0].MENU_CODE||null,_customUrl:arguments[0].PAGE_URL||null,_trackingSource:arguments[0].TRACKING_SOURCE||null,_requestId:arguments[0].REQUEST_ID||null,_opt_cpName:arguments[0].CONTENT_PROVIDER||null,_opt_hitType:arguments[0].TAB_NAME||null,_obj:arguments[0]}}else{B={_clickPath:r,_pageTitle:A,_menuCode:D,_customUrl:t,_trackingSource:v,_requestId:E,_opt_cpName:s,_opt_hitType:x,_obj:null}}if(B._menuCode){this._page_menu_code=B._menuCode}var q=this._getEventId();for(var y in this.trackers){if(typeof this.trackers[y].ensureTrackAPI!="undefined"&&this.trackers[y].ensureTrackAPI()){var w=this._getPageInformation(this.trackers[y],B._clickPath,B._pageTitle,B._menuCode,B._customUrl,B._opt_hitType);var C=this._getRequestInformation(this.trackers[y],null,B._requestId,B._opt_cpName,B._trackingSource);if(B._obj){var u=B._obj&&this._translateMapping(B._obj,this.trackers[y])}this._setEventId(this.trackers[y]._tracker,u,q);this.trackers[y].pageView(w,C,u)}}if(this._enablePLTTrigger){var z=this;window.setTimeout(function(){UsageTools.trackBrowserPLT([window],z.trackers,z)},200)}UsageListener.reset()};GaTracker.prototype.trackMenu=function(m,r,t,n,u,o){if(t){this._page_menu_code=t}var l=this._getEventId();for(var q in this.trackers){if(typeof this.trackers[q].ensureTrackAPI!="undefined"&&this.trackers[q].ensureTrackAPI()){var p=this._getPageInformation(this.trackers[q],m,r,t,n);var s=this._getRequestInformation(this.trackers[q],GaTracker.CONSTANTS.MENU_TRACKING,u,"cv2",o);this._setEventId(this.trackers[q]._tracker,s,l);this.trackers[q].pageView(p,s)}}UsageListener.reset()};GaTracker.prototype.trackSearch=function(w,n,s,v,o){var t=null;if(arguments.length==1&&typeof arguments[0]=="object"){t={_clickPath:arguments[0].PAGE_HIERARCHY_PATH||null,_pageTitle:arguments[0].PAGE_TITLE||null,_menuCode:arguments[0].MENU_CODE||null,_customUrl:arguments[0].PAGE_URL||null,_requestId:arguments[0].REQUEST_ID||null,_obj:arguments[0]}}else{t={_clickPath:n,_pageTitle:s,_menuCode:v,_customUrl:o,_requestId:w,_obj:null}}if(t._menuCode){this._page_menu_code=t._menuCode}var m=this._getEventId();for(var r in this.trackers){if(typeof this.trackers[r].ensureTrackAPI!="undefined"&&this.trackers[r].ensureTrackAPI()){var q=this._getPageInformation(this.trackers[r],t._clickPath,t._pageTitle,t._menuCode,t._customUrl);var u=this._getRequestInformation(this.trackers[r],GaTracker.CONSTANTS.SEARCH_TRACKING,t._requestId,"cvsearch","2");if(t._obj){var p=t._obj&&this._translateMapping(t._obj,this.trackers[r])}this._setEventId(this.trackers[r]._tracker,p,m);this.trackers[r].pageView(q,u,p)}}UsageListener.reset()};GaTracker.prototype._getPageInformation=function(o,h,m,n,k,j){var l={};l[o.CONSTANTS.ENV]=o._env;l[o.CONSTANTS.SOURCE_TEAM]=o._source;l[o.CONSTANTS.USER_ID]=o._userId;l[o.CONSTANTS.PAGE_HIERARCHY_PATH]=h;l[o.CONSTANTS.PORTAL]=o._portal;l[o.CONSTANTS.APP_NAME]=o._application;l[o.CONSTANTS.DEVICE_TYPE]=o._deviceType;l[o.CONSTANTS.PAGE_URL]=k?k:window.location.href;if(o._zone){l[o.CONSTANTS.ZONE]=String(o._zone.charAt(0)).toUpperCase()+String(o._zone.substr(1)).toLowerCase()}if(j){l[o.CONSTANTS.TAB_NAME]=j}l[o.DICTIONARY.MENU_CODE]=n;if(o._userType){l[o.DICTIONARY.USER_TYPE]=o._userType}if(m){l[o.DICTIONARY.PAGE_TITLE]=m}return l};GaTracker.prototype._getRequestInformation=function(o,u,w,x,q,v,t,y,s,p){var r={};if(q){r[o.CONSTANTS.TRACKING_SOURCE]=o._getNameOfTrackingSource(q);if(o.CONSTANTS.TRACKING_TYPE){r[o.CONSTANTS.TRACKING_TYPE]=GaTracker.prototype.getTrackingTypeByTrackingSource(q)}}else{if(u){if(o.CONSTANTS.TRACKING_TYPE){r[o.CONSTANTS.TRACKING_TYPE]=u}}}if(x=x||GaTracker.prototype.getCPNameFromCPB()){r[o.CONSTANTS.CONTENT_PROVIDER]=x}if(q&&q!="1"){var n=GaTracker.prototype.getProtletFromCPB(v);if(n){r[o.DICTIONARY.PORTLET_NAME]=n.name;r[o.DICTIONARY.PORTLET_CODE]=n.code}else{if(v){r[o.DICTIONARY.PORTLET_NAME]=v}if(t){r[o.DICTIONARY.PORTLET_CODE]=t}}}if(w){r[o.CONSTANTS.REQUEST_ID]=w}if(y){r[o.DICTIONARY.CONTENT_ID]=y+""}if(p){r[o.DICTIONARY.CUSTOM_DIMENSION_1]=p}if(s){r[o.DICTIONARY.CONTENT_SOURCE]=s}return r};GaTracker.prototype.trackEvent=function(e){var k=this._getEventId();if(e&&e.MENU_CODE){this._page_menu_code=e.MENU_CODE}try{if(e&&e.TRACKING_SOURCE&&(e.TRACKING_SOURCE=="100")){}else{if(e){e.TRACKING_SOURCE="100"}}}catch(h){}for(var g in this.trackers){try{var j=e&&this._translateMapping(e,this.trackers[g]);if(!(typeof j=="object"&&j!=null||typeof j=="function")){return}this._setEventId(this.trackers[g]._tracker,j,k);this.trackers[g]._tracker.event(j)}catch(h){}}};GaTracker.prototype._translateMapping=function(g,h){var f={};for(var e in g){if(h.DICTIONARY[e]){f[h.DICTIONARY[e]]=g[e]}else{f[e]=g[e]}}if(g.TRACKING_SOURCE){if(h.CONSTANTS.TRACKING_SOURCE){f[h.CONSTANTS.TRACKING_SOURCE]=h._getNameOfTrackingSource(g.TRACKING_SOURCE)}if(h.CONSTANTS&&h.CONSTANTS.TRACKING_TYPE){f[h.CONSTANTS.TRACKING_TYPE]=GaTracker.prototype.getTrackingTypeByTrackingSource(g.TRACKING_SOURCE)}}if(!f[h.DICTIONARY.MENU_CODE]&&this._page_menu_code){f[h.DICTIONARY.MENU_CODE]=this._page_menu_code}return f};GaTracker.prototype.getEventInformation=function(m,j,g,h,k){var l={};l.EVENT_CATEGORY=m;l.EVENT_LABEL=j;l.EVENT_ACTION=m;l.TRACKING_SOURCE="100";if(g=this.getProtletFromCPB(g)){l.PORTLET_NAME=g.name;l.PORTLET_CODE=g.code}if(h=h||this.getCPNameFromCPB()){l.CONTENT_PROVIDER=h}return l};GaTracker.prototype.trackLink=function(m,r,q,l){var e=this._getEventId();for(var o in this.trackers){if(typeof this.trackers[o].ensureTrackAPI!="undefined"&&this.trackers[o].ensureTrackAPI()){var s=this.getEventInformation(r,m,q,l,this.trackers[o]);try{var p=s&&this._translateMapping(s,this.trackers[o]);if(!(typeof p=="object"&&p!=null||typeof p=="function")){return}this._setEventId(this.trackers[o]._tracker,p,e);this.trackers[o]._tracker.event(p)}catch(n){}}}};GaTracker.prototype.trackDownload=function(m){var l=this._getEventId();for(var h in this.trackers){if(typeof this.trackers[h].ensureTrackAPI!="undefined"&&this.trackers[h].ensureTrackAPI()){var e=this.getEventInformation("download",m,null,null,this.trackers[h]);try{var j=e&&this._translateMapping(e,this.trackers[h]);if(!(typeof j=="object"&&j!=null||typeof j=="function")){return}this._setEventId(this.trackers[h]._tracker,j,l);this.trackers[h]._tracker.event(j)}catch(k){}}}};GaTracker.prototype._getEventId=function(){if(this._disableGB||!this._allowSiteGB){return}return(this._userId||this._piwikUserId||"")+"_"+new Date().getTime()};GaTracker.prototype._setEventId=function(e,f,d){if(this._disableGB||!this._allowSiteGB){return}if(e._isGlassbox){f.EVENT_ID=d}else{if(!f.cd20){f.cd20=d}}};GaTracker.UsageProPlugin=function(x,y,z,s,u,E,w,t,D,C,q,v,r,A,B){this._env=x;this._userId=w;this._userType=z;this._portal=s;this._zone=u;this._source=E;this._application=t;this._siteId=D;this._deviceType=C;this._initiated=false;this._disableBulk=q;this._enableHeartBeatTimer=v;this._enableForceGet=r;this._appVersion=A;this._profile=B};GaTracker.UsageProPlugin.prototype.DICTIONARY={PAGE_URL:"PAGE_URL",PAGE_TITLE:"PAGE_TITLE",PAGE_HIERARCHY_PATH:"menuNavigationPath",CONTENT_PROVIDER:"CONTENT_PROVIDER",MENU_CODE:"menuCode",PORTLET_NAME:"portletName",PORTLET_CODE:"portletCode",CONTENT_ID:"contentId",CONTENT_SOURCE:"contentSourceId",ROOM_ID:"ROOM_ID",OS:"OS",OS_VERSION:"OS_VERSION",DEVICE_INFO:"DEVICE_INFO",APP_VERSION:"APP_VERSION",USER_TYPE:"USER_TYPE",CUSTOM_DIMENSION_1:"cd1",CUSTOM_DIMENSION_2:"cd2",CUSTOM_DIMENSION_3:"cd3",CUSTOM_DIMENSION_4:"cd4",CUSTOM_DIMENSION_5:"cd5",CUSTOM_DIMENSION_6:"cd6",CUSTOM_DIMENSION_7:"cd7",CUSTOM_DIMENSION_8:"cd8",CUSTOM_DIMENSION_9:"cd9",CUSTOM_DIMENSION_10:"cd10",CUSTOM_DIMENSION_11:"cd11",CUSTOM_DIMENSION_12:"cd12",CUSTOM_DIMENSION_13:"cd13",CUSTOM_DIMENSION_14:"cd14",CUSTOM_DIMENSION_15:"cd15",CUSTOM_DIMENSION_16:"cd16",CUSTOM_DIMENSION_17:"cd17",CUSTOM_DIMENSION_18:"cd18",CUSTOM_DIMENSION_19:"cd19",CUSTOM_DIMENSION_20:"cd20",CUSTOM_METRIC_1:"cm1",CUSTOM_METRIC_2:"cm2",CUSTOM_METRIC_3:"cm3",CUSTOM_METRIC_4:"cm4",CUSTOM_METRIC_5:"cm5",CUSTOM_METRIC_6:"cm6",CUSTOM_METRIC_7:"cm7",CUSTOM_METRIC_8:"cm8",CUSTOM_METRIC_9:"cm9",CUSTOM_METRIC_10:"cm10",CUSTOM_METRIC_11:"cm11",CUSTOM_METRIC_12:"cm12",CUSTOM_METRIC_13:"cm13",CUSTOM_METRIC_14:"cm14",CUSTOM_METRIC_15:"cm15",CUSTOM_METRIC_16:"cm16",CUSTOM_METRIC_17:"cm17",CUSTOM_METRIC_18:"cm18",CUSTOM_METRIC_19:"cm19",CUSTOM_METRIC_20:"cm20",EVENT_CATEGORY:"eventCategory",EVENT_ACTION:"eventAction",EVENT_LABEL:"eventLabel",EVENT_VALUE:"eventValue"};GaTracker.UsageProPlugin.prototype.ensureTrackAPI=function(b){if(!b&&(!this._source||this._source=="Portal")){return false}if(this._tracker){return true}if(typeof UsageProPluginImpl==="function"&&!this._initiated){this._tracker=new UsageProPluginImpl();this._tracker.addTracker=this._tracker.addTracker;this._tracker.pageView=this._tracker.pageView;this._tracker.submit=this._tracker.submit;this._tracker.onPageReadyForUser=this._tracker.onPageReadyForUser;this.CONSTANTS={};this.CONSTANTS.ENV=this._tracker.ENV;this.CONSTANTS.SOURCE_TEAM=this._tracker.SOURCE_TEAM;this.CONSTANTS.USER_ID=this._tracker.USER_ID;this.CONSTANTS.TRACKING_SOURCE=this._tracker.TRACKING_SOURCE;this.CONSTANTS.PAGE_HIERARCHY_PATH=this._tracker.PAGE_HIERARCHY_PATH;this.CONSTANTS.PORTAL=this._tracker.PORTAL;this.CONSTANTS.ZONE=this._tracker.ZONE;this.CONSTANTS.APP_NAME=this._tracker.APP_NAME;this.CONSTANTS.DEVICE_TYPE=this._tracker.DEVICE_TYPE;this.CONSTANTS.CONTENT_PROVIDER=this._tracker.CONTENT_PROVIDER;this.CONSTANTS.REQUEST_ID=this._tracker.REQUEST_ID;this.CONSTANTS.TAB_NAME=this._tracker.TAB_NAME;this.CONSTANTS.PAGE_URL=this._tracker.PAGE_URL;this._initiated=true;return true}return false};GaTracker.UsageProPlugin.prototype._getSiteId=function(k,e,q,p,l){if(this._source=="CVChat"){return"18"}var n="0";try{if("SfsExternal"==e){switch(q){case"QA":n="36";break;case"UAT":n="36";break;case"PROD":n="36";break;default:n="1";break}return n}if(k=="intranet"||k=="ICG"){switch(q){case"QA":n="2";break;case"UAT":n="3";break;case"PROD":n="4";break;default:n="1";break}return n}else{if(e=="Internal"){switch(q){case"QA":n="7";break;case"UAT":n="9";break;case"PROD":n="11";break;default:n="5";break}}else{var m=0;try{m=parent.prtl.user.getCurrentUser().getUserType()}catch(o){m=l=="Client"||l=="C"}switch(q){case"QA":n=!m?"8":"14";break;case"UAT":n=!m?"10":"14";break;case"PROD":n=!m?"12":"14";break;default:n=!m?"6":"14";break}}}return n}catch(o){return null}};GaTracker.UsageProPlugin.prototype.init=function(){if(!this._siteId){this._siteId=this._getSiteId(this._portal,this._zone,this._env,this._source,this._userType)}var c={APPLICATION:this._application,DEVICE_TYPE:this._deviceType,ENV:this._env,loginId:this._userId,PORTAL:this._portal,ZONE:this._zone,SOURCE:this._source,DISABLE_BULK:this._disableBulk,ENABLE_HEARTBEATTIMER:this._enableHeartBeatTimer,ENABLE_FORCEGET:this._enableForceGet,APP_VERSION:this._appVersion,PROFILE:this._profile};if(this._userType){this._userType=String(this._userType.charAt(0)).toUpperCase()+String(this._userType.substr(1)).toLowerCase();c.USER_TYPE=this._userType}if(!this.ensureTrackAPI(true)){return}try{this._tracker.addTracker(this._siteId,c)}catch(d){}};GaTracker.UsageProPlugin.prototype.pageView=function(e,f,g){try{this._tracker.pageView(e,f,g)}catch(h){}};GaTracker.UsageProPlugin.prototype.pageViewObj=function(c){try{this._tracker.pageViewObj(c)}catch(d){}};GaTracker.UsageProPlugin.prototype._getNameOfTrackingSource=function(b){return b};GaTracker.GlassBoxPlugin=function(x,y,z,s,u,E,w,t,D,C,q,v,r,A,B){this._env=x;this._userId=w;this._userType=z;this._portal=s;this._zone=u;this._source=E;this._application=t;this._siteId=D;this._deviceType=C;this._initiated=false;this._disableBulk=q;this._enableHeartBeatTimer=v;this._enableForceGet=r;this._appVersion=A;this._profile=B;this._tracker=new GlassBoxPluginImpl();this._tracker.addTracker=this._tracker.addTracker;this._tracker.pageView=this._tracker.pageView;this._tracker.submit=this._tracker.submit;this._tracker.onPageReadyForUser=this._tracker.onPageReadyForUser;this.CONSTANTS={};this.CONSTANTS.ENV=this._tracker.ENV;this.CONSTANTS.SOURCE_TEAM=this._tracker.SOURCE_TEAM;this.CONSTANTS.USER_ID=this._tracker.USER_ID;this.CONSTANTS.TRACKING_SOURCE=this._tracker.TRACKING_SOURCE;this.CONSTANTS.PAGE_HIERARCHY_PATH=this._tracker.PAGE_HIERARCHY_PATH;this.CONSTANTS.PORTAL=this._tracker.PORTAL;this.CONSTANTS.ZONE=this._tracker.ZONE;this.CONSTANTS.APP_NAME=this._tracker.APP_NAME;this.CONSTANTS.DEVICE_TYPE=this._tracker.DEVICE_TYPE;this.CONSTANTS.CONTENT_PROVIDER=this._tracker.CONTENT_PROVIDER;this.CONSTANTS.REQUEST_ID=this._tracker.REQUEST_ID;this.CONSTANTS.TAB_NAME=this._tracker.TAB_NAME;this.CONSTANTS.PAGE_URL=this._tracker.PAGE_URL;this._initiated=true};GaTracker.GlassBoxPlugin.prototype.DICTIONARY={PAGE_URL:"PAGE_URL",PAGE_TITLE:"PAGE_TITLE",PAGE_HIERARCHY_PATH:"PAGE_HIERARCHY_PATH",CONTENT_PROVIDER:"CONTENT_PROVIDER",MENU_CODE:"MENU_CODE",PORTLET_NAME:"PORTLET_NAME",PORTLET_CODE:"PORTLET_CODE",CONTENT_ID:"CONTENT_ID",CONTENT_SOURCE:"CONTENT_SOURCE",ROOM_ID:"ROOM_ID",OS:"OS",OS_VERSION:"OS_VERSION",DEVICE_INFO:"DEVICE_INFO",APP_VERSION:"APP_VERSION",USER_TYPE:"USER_TYPE",SOURCE:"EVENT_SOURCE",CUSTOM_DIMENSION_1:"cd1",CUSTOM_DIMENSION_2:"cd2",CUSTOM_DIMENSION_3:"cd3",CUSTOM_DIMENSION_4:"cd4",CUSTOM_DIMENSION_5:"cd5",CUSTOM_DIMENSION_6:"cd6",CUSTOM_DIMENSION_7:"cd7",CUSTOM_DIMENSION_8:"cd8",CUSTOM_DIMENSION_9:"cd9",CUSTOM_DIMENSION_10:"cd10",CUSTOM_DIMENSION_11:"cd11",CUSTOM_DIMENSION_12:"cd12",CUSTOM_DIMENSION_13:"cd13",CUSTOM_DIMENSION_14:"cd14",CUSTOM_DIMENSION_15:"cd15",CUSTOM_DIMENSION_16:"cd16",CUSTOM_DIMENSION_17:"cd17",CUSTOM_DIMENSION_18:"cd18",CUSTOM_DIMENSION_19:"cd19",CUSTOM_DIMENSION_20:"cd20",CUSTOM_METRIC_1:"cm1",CUSTOM_METRIC_2:"cm2",CUSTOM_METRIC_3:"cm3",CUSTOM_METRIC_4:"cm4",CUSTOM_METRIC_5:"cm5",CUSTOM_METRIC_6:"cm6",CUSTOM_METRIC_7:"cm7",CUSTOM_METRIC_8:"cm8",CUSTOM_METRIC_9:"cm9",CUSTOM_METRIC_10:"cm10",CUSTOM_METRIC_11:"cm11",CUSTOM_METRIC_12:"cm12",CUSTOM_METRIC_13:"cm13",CUSTOM_METRIC_14:"cm14",CUSTOM_METRIC_15:"cm15",CUSTOM_METRIC_16:"cm16",CUSTOM_METRIC_17:"cm17",CUSTOM_METRIC_18:"cm18",CUSTOM_METRIC_19:"cm19",CUSTOM_METRIC_20:"cm20",EVENT_CATEGORY:"EVENT_CATEGORY",EVENT_ACTION:"EVENT_ACTION",EVENT_LABEL:"EVENT_LABEL",EVENT_VALUE:"EVENT_VALUE"};GaTracker.GlassBoxPlugin.prototype.ensureTrackAPI=function(b){return true};GaTracker.GlassBoxPlugin.prototype._getSiteId=function(k,e,q,p,l){if(this._source=="CVChat"){return"18"}var n="0";try{if("SfsExternal"==e){switch(q){case"QA":n="36";break;case"UAT":n="36";break;case"PROD":n="36";break;default:n="1";break}return n}if(k=="intranet"||k=="ICG"){switch(q){case"QA":n="2";break;case"UAT":n="3";break;case"PROD":n="4";break;default:n="1";break}return n}else{if(e=="Internal"){switch(q){case"QA":n="7";break;case"UAT":n="9";break;case"PROD":n="11";break;default:n="5";break}}else{var m=0;try{m=parent.prtl.user.getCurrentUser().getUserType()}catch(o){m=l=="Client"||l=="C"}switch(q){case"QA":n=!m?"8":"14";break;case"UAT":n=!m?"10":"14";break;case"PROD":n=!m?"12":"14";break;default:n=!m?"6":"14";break}}}return n}catch(o){return null}};GaTracker.GlassBoxPlugin.prototype.init=function(){if(!this._siteId){this._siteId=this.siteId}var c={APPLICATION:this._application,DEVICE_TYPE:this._deviceType,ENV:this._env,loginId:this._userId,PORTAL:this._portal,ZONE:this._zone,EVENT_SOURCE:this._source,DISABLE_BULK:this._disableBulk,ENABLE_HEARTBEATTIMER:this._enableHeartBeatTimer,ENABLE_FORCEGET:this._enableForceGet,APP_VERSION:this._appVersion,PROFILE:this._profile};if(this._userType){this._userType=String(this._userType.charAt(0)).toUpperCase()+String(this._userType.substr(1)).toLowerCase();c.USER_TYPE=this._userType}try{this._tracker.addTracker(this._siteId,c)}catch(d){}};GaTracker.GlassBoxPlugin.prototype.pageView=function(e,f,g){try{this._tracker.pageView(e,f,g)}catch(h){}};GaTracker.GlassBoxPlugin.prototype.pageViewObj=function(c){try{this._tracker.pageViewObj(c)}catch(d){}};GaTracker.GlassBoxPlugin.prototype._getNameOfTrackingSource=function(b){return b};