(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{657:function(e,t,a){},715:function(e,t,a){e.exports=a.p+"static/media/chevron-up.a4354d29.png"},716:function(e,t,a){e.exports=a.p+"static/media/chevron-down.dd288c16.png"},950:function(e,t,a){"use strict";a.r(t),a.d(t,"ESGMateriality",function(){return A});var i=a(6),n=a(7),s=a(10),l=a(8),o=a(9),r=a(0),c=a.n(r),d=a(55),m=a(136),u=a(713),g=a.n(u),p=a(714),h=a.n(p),v=a(586),y=a(588),f=a(137),E=a(587),b=a(35),N=a(715),S=a.n(N),w=a(716),D=a.n(w),C=a(176),k=a(4),M=a.n(k),T=a(1),_=a.n(T),L=a(28),I=a.n(L),O=(a(657),Object(d.a)({loader:function(){return Promise.resolve().then(a.bind(null,87))}})),x=Object(d.a)({loader:function(){return Promise.resolve().then(a.bind(null,88))}}),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).toggleDesc=function(){a.setState({desc:!a.state.desc})},a.toggle=function(){a.setState({collapse:!a.state.collapse})},a.openESGMateriality=function(e){a.setState({modalTitle:e})},(M.a.isEmpty(a.props.esgData)||window.HTML_RENDITION.isMCN)&&a.getESGData(),a.state={modalStatus:!1,modalTitle:"",desc:!0,collapse:!1,sourceUrl:C.a.URL_GENERATOR.environments(window.HTML_RENDITION.initialData.environment),showIcon:!1},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.requestSourceUrl()}},{key:"componentDidUpdate",value:function(e,t){var a,i,n,s;window.HTML_RENDITION.isMCN&&!M.a.isUndefined(null===e||void 0===e?void 0:null===(a=e.multiCompanyMetaData)||void 0===a?void 0:a.companyCode)&&(null===e||void 0===e?void 0:null===(i=e.multiCompanyMetaData)||void 0===i?void 0:i.companyCode)!==(null===(n=this.props.multiCompanyMetaData)||void 0===n?void 0:n.companyCode)&&this.getESGData(),M.a.isEmpty(null===(s=this.props.esgData)||void 0===s?void 0:s.categoriesList)||this.state.showIcon||this.setState({showIcon:!0})}},{key:"openModal",value:function(e){E.a.trackESGMateriality(),"modalClose"===e.target.id?(this.setState({modalStatus:!1}),_()(".triggered_popup_flag").focus().removeClass("triggered_popup_flag")):!1===this.state.modalStatus&&(this.setState({modalStatus:!0}),e.target.className+=" triggered_popup_flag")}},{key:"getDom",value:function(e,t){var a=this,i=c.a.createElement(c.a.Fragment,null,window.HTML_RENDITION.initialData.isEntitled("COMPANY_PAGE_LINK")&&c.a.createElement("p",{className:"view_company_page mb-1"},c.a.createElement("a",{tabIndex:0,role:"link",onClick:function(){return Object(b.qb)(a.getCompanyTicker(),"ESG")},onKeyPress:function(){return v.a.bind(a,Object(b.qb)(a.getCompanyTicker(),"ESG"))},"aria-label":"View in company page"},"View in company page"))),n=this.getChart(e,["1 Year","5 Years","10 Years"],t),s=this.getTable(e,["1 Yr","5 Yrs","10 Yrs"]),l=c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"esg_source"},"Data last updated: ",e.latestPublishedDate),c.a.createElement("div",{className:"esg_source"},"Source: Citi Research and the Sustainability Accounting Standards Board (SASB) framework "),c.a.createElement("div",{className:"esg_source mb-1"},"To read the full definitions of the SASB metrics referenced on this page, please click ",c.a.createElement("a",{href:this.state.sourceUrl,target:"_blank"},"here.")));return c.a.createElement("div",{className:"esg_materiality_container"},!Object(b.Z)()&&window.HTML_RENDITION.initialData.isEntitled("COMPANY_NAME")&&i,n,c.a.createElement("div",{className:"h-line"},"(Yearly periods represent forward years)\u2003"),s,l)}},{key:"getChart",value:function(e,t,a){for(var i,n={"Product Design & Lifecycle Management":"#7faeda","Product Quality & Safety":"#c6d82e","Energy Management":"#ffd602","Employee Health & Safety":"#017477","GHG Emissions":"#82c341","Critical Incident Risk Management":"#f7921e"},s=function(e){var t=e.split(" ");return t.length>20?t.splice(0,20).join(" ")+"...":e},l=function(e,t,a,i){return e.map(function(e){return{y:e,description:t,line:a,region:i}})},o=[],r=0;r<e.factorList.length;r++){e.data[0][r].every(function(e){return 0===e})||o.push({name:e.factorList[r],data:l(e.data[0][r],s(e.companyCommentList[r]),r,e.regionList[0]),color:n[e.factorList[r]]})}var d={chart:{type:"column",height:550},xAxis:{categories:t,labels:{style:{fontSize:"13px",fontFamily:"sans-serif"}}},title:{useHTML:!0,text:"<div id='h_chart_title' style='color:#042c74;font-family: Arial;'>"+a+": <b>"+(null===(i=this.props.companyCoverageAndDerivedFields)||void 0===i?void 0:i.companyName)+"</b></div>",align:"left"},yAxis:{min:0,max:100,stackLabels:{enabled:!1},labels:{format:"{value}%",style:{fontSize:"13px",fontFamily:"sans-serif"}},title:{text:""}},legend:{layout:"vertical",align:"right",verticalAlign:"top",backgroundColor:"white",borderWidth:0,shadow:!1,margin:20,itemMarginBottom:16,y:30,width:"40%",itemWidthd:300,itemDistance:0,itemStyle:{fontFamily:"sans-serif",fontSize:"12px"}},plotOptions:{series:{events:{legendItemClick:function(){return!1}}},column:{stacking:"normal",dataLabels:{enabled:!1},point:{events:{click:function(e){var t;_()("img.esg-table-expand").trigger("click"),null===(t=document.getElementById("".concat(e.point.region," row").concat(e.point.line)))||void 0===t||t.scrollIntoView(!0),_()(".".concat(e.point.region,".row").concat(e.point.line)).addClass("blink");var a=setTimeout(function(){_()(".".concat(e.point.region,".row").concat(e.point.line)).removeClass("blink"),clearTimeout(a)},2e3)}}}}},series:o,credits:{enabled:!1},tooltip:{headerFormat:"<b>{point.x}</b><br/>",pointFormat:"<b>{series.name}: {point.y}%</b><br/><b>Analyst Comment: </b>{point.description}",style:{width:200},useHTML:!0}};return c.a.createElement("figure",{style:{width:"100%"}},c.a.createElement(h.a,{highcharts:g.a,options:d}))}},{key:"getTable",value:function(e,t){var a,i=this,n=[];t.forEach(function(e){n.push(c.a.createElement("div",{className:"highlighted-issues year etitle y".concat(e)},e))});for(var s=[],l=0;l<e.factorList.length;l++){if(!e.data[0][l].every(function(e){return 0===e})){for(var o=[],r=0;r<t.length;r++)e.data[0][l][r]>0&&o.push(c.a.createElement("div",{className:"highlighted-issues year ".concat(this.getTdColor(e.data[0][l][r]))},e.data[0][l][r]+"%")),e.data[0][l][r]<=0&&o.push(c.a.createElement("div",{className:"highlighted-issues year ".concat(this.getTdColor(e.data[0][l][r]))},"na"));s.push(c.a.createElement("div",{id:"".concat(null===e||void 0===e?void 0:e.regionList[0]," row").concat(l),className:"esg-table-row ".concat(e.regionList[0]," row").concat(l)},c.a.createElement("div",{className:"highlighted-issues domain"},e.domainList[l]),c.a.createElement("div",{className:"highlighted-issues category"},e.categoriesList[l]),c.a.createElement("div",{className:"highlighted-issues factor"},e.factorList[l]),this.state.desc&&c.a.createElement("div",{className:"highlighted-issues description"},e.descriptionsList[l]),c.a.createElement("div",{className:"highlighted-issues comment"},e.companyCommentList[l]),o))}}var d=c.a.createElement("div",{className:"headline"},c.a.createElement("div",{className:"highlighted-issues domain etitle"},"ESG"),c.a.createElement("div",{className:"highlighted-issues category etitle"},"SASB Dimension"),c.a.createElement("div",{className:"highlighted-issues factor etitle"},"SASB Factor"),this.state.desc&&c.a.createElement("div",{className:"highlighted-issues description etitle"},"Factor Definition (summarized)"),c.a.createElement("div",{className:"highlighted-issues comment etitle"},"Analyst Comments"),n),m=c.a.createElement("div",{className:"title clearfix"},c.a.createElement("img",{role:"button",tabIndex:0,src:this.state.collapse?S.a:D.a,className:"esg-table-collapse "+(this.state.collapse?"esg-table-expand":""),onClick:function(){return i.toggle()},onKeyPress:function(e){return Object(v.a)(e,i.toggle.bind(i))},alt:(this.state.collapse?"expand":"collapse")+" esg table","aria-label":(this.state.collapse?"expand":"collapse")+" esg table"}),c.a.createElement("span",{className:"esg-table-title"},"\xa0More Details: ",null===(a=this.props.companyCoverageAndDerivedFields)||void 0===a?void 0:a.companyName),!this.state.collapse&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,"Factor Definition ",c.a.createElement("span",{className:"esg-toggle-text"},"Show\xa0",c.a.createElement("img",{role:"button",tabIndex:0,src:this.state.desc?b.Db:b.Cb,className:"switch",onClick:function(){return i.toggleDesc()},onKeyPress:function(e){return Object(v.a)(e,i.toggleDesc.bind(i))},alt:(this.state.desc?"show":"hide")+"factor definition column","aria-label":(this.state.desc?"show":"hide")+"factor definition column"}),"\xa0Hide")),c.a.createElement("div",{className:"year-color-legend-wrapper"},c.a.createElement("div",{className:"year-color-legend-container"},c.a.createElement("div",{className:"year-color-header"},"Weights (%)"),c.a.createElement("div",{className:"year-color-body"},c.a.createElement("div",{className:"esg-legend-cell year level10"},"10"),c.a.createElement("div",{className:"esg-legend-cell year level20"},"20"),c.a.createElement("div",{className:"esg-legend-cell year level30"},"30"),c.a.createElement("div",{className:"esg-legend-cell year level40"},"40"),c.a.createElement("div",{className:"esg-legend-cell year level50"},"50"),c.a.createElement("div",{className:"esg-legend-cell year level60"},"60"),c.a.createElement("div",{className:"esg-legend-cell year level70"},"70"),c.a.createElement("div",{className:"esg-legend-cell year level80"},"80"),c.a.createElement("div",{className:"esg-legend-cell year level90"},"90"),c.a.createElement("div",{className:"esg-legend-cell year level100"},"100"))))));return c.a.createElement("div",{id:"esg-highlighted-issues-container"},m,!this.state.collapse&&d,!this.state.collapse&&s)}},{key:"render",value:function(){var e=this,t=this.props,a=t.docHeaderSectionJson,i=t.initialData,n=t.esgData,s=this.state.modalStatus,l=null,o=a.i18n.esgMateriality;return s&&!M.a.isEmpty(n)&&(window.HTML_RENDITION.isMCN?l=this.getDom(n,o):"company"!=i.productType&&1!=i.isFAVE||(l=this.getDom(n,o))),c.a.createElement("div",{className:"esgMateriality-gallery",onClick:function(t){return e.openModal(t)},onKeyPress:function(t){return Object(v.a)(t,e.openModal.bind(e,t))}},s&&l&&this.state.modalTitle&&c.a.createElement(O,{classList:"modal-esgMateriality"},c.a.createElement(x,{titleSource:this.state.modalTitle,bodySource:l,modalWindowStyle:{width:"1000px",background:"transparent",height:"700px"},modalBodyStyle:{overflow:"auto"}})),c.a.createElement("div",{className:"esgMateriality financials",style:{display:this.state.showIcon?"block":"none"},onClick:function(){return e.openESGMateriality(o)},onKeyPress:function(t){return Object(v.a)(t,e.openESGMateriality.bind(e,o))}},c.a.createElement("span",{className:"icon-esg-materialtiy icon-sprite",role:"img","aria-label":o}),c.a.createElement("a",{tabIndex:0,role:"link","aria-label":o,id:"request-esg-materialtiy",className:"x-rsch-hyperlink"},o)))}},{key:"requestSourceUrl",value:function(){var e=this;I.a.get("/cvrservices/eppublic/getConfigProperty?configProperty=MATERIALITY_MAP").then(function(t){if("200"==t.status){var a=t.data;t.data&&e.setState({sourceUrl:a})}else console.error(t)}).catch(function(e){throw console.error(e),e})}},{key:"getCompanyTicker",value:function(){var e=this.props,t=e.docHeaderSectionJson,a=e.multiCompanyMetaData;return M.a.isEmpty(a)?t.metadata.ticker:a.ticker}},{key:"getESGData",value:function(){var e=this.getCompanyTicker();this.props.applyESGTableData(e),this.setState({showIcon:!1})}},{key:"getTdColor",value:function(e){return e>=0&&e<=100?"level"+Math.ceil(e/5):"level0"}}]),t}(r.Component);t.default=Object(m.b)(function(e){return{esgData:e.asyncStateReducer.esgData,docHeaderSectionJson:e.asyncStateReducer.docHeaderJsonData,initialData:e.asyncStateReducer.initialData,multiCompanyMetaData:e.commonStateReducer.multiCompanyMetaData,companyCoverageAndDerivedFields:e.commonStateReducer.companyCoverageAndDerivedFields}},function(e){return{applyESGTableData:function(t){return e(y.l(Object.assign(f.a.GET_ESG),f.a.GET_URL(Object.assign(f.a.GET_COMPANY_INFO,{url_parameter:["ticker=".concat(t)]}))))}}})(A)}}]);
//# sourceMappingURL=68.232e95e7.chunk.js.map