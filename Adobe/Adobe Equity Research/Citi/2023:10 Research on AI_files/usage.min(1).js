/*!
* Usage Analytics API JS v108.0
* Glassbox Integrated
*/
"use strict";window.UsageTools=window.UsageTools||{_maxLoadTimeInMillis:120000,_debug:(typeof window.usageDebug==="undefined")?(window.location.href.indexOf("USAGEDEBUG")>-1?true:false):window.usageDebug,_testEnv:null,enabled:(typeof window.usageEnabled==="undefined")?true:window.usageEnabled,getUTCTime:function(){var a=new Date();return a.getUTCFullYear()+"-"+this.pad(a.getUTCMonth()+1)+"-"+this.pad(a.getUTCDate())+" "+this.pad(a.getUTCHours())+":"+this.pad(a.getUTCMinutes())+":"+this.pad(a.getUTCSeconds())},pad:function(a){return a<10?"0"+a:a},createRandomId:function(a){return Math.floor((Math.random()*1000)+1)+"-"+(a?a:((new Date()).getTime()))},truncate:function(a,b){return(a&&a.length)>b?a.substr(0,b-1)+"..":a},sendPiwikEvent:function(b,d,c){try{Main.PORTAL.UI.CP.trackPageViewPiwikOnly("",c,"",'{"eventName":"'+b+'"}',100,d,"","","")}catch(a){}},log:function(b){try{if(UsageTools._debug){window.console&&console.log(b)}}catch(a){}},isTestEnv:function(){if(this._testEnv!=null){return this._testEnv}var a="";try{a=PORTAL.UI.SETTINGS.env}catch(b){}this._testEnv=(a=="QA"||a=="UAT");return this._testEnv},getPageUrl:function(){try{var a=(typeof Main==="undefined"||typeof Main.location==="undefined");return a?window.location.href:Main.location.href}catch(b){UsageTools.log("Error getting url "+b.message)}return window.location.href},getNodeIdentifier:function(b,a){if(b.className){return b.className}else{if(b.id){return b.id}else{if(b.name){return b.name}else{if(typeof b.parentNode!=="undefined"&&b.parentNode&&a<3){return UsageTools.getNodeIdentifier(b.parentNode,a++)}else{return""}}}}},getTrackerStr:function(a){return a?a+".":""},sendLog:function(b){try{window.console&&console.log("##### "+b)}catch(a){}},restrictMaxTime:function(a){return a>this._maxLoadTimeInMillis?this._maxLoadTimeInMillis:a},validateEvent:function(b){try{if(!this.isTestEnv()){return}if(typeof UsageValidator!="undefined"){UsageValidator.validateEvent(b)}}catch(a){UsageTools.sendLog("Event validation failed: "+a.message)}},_calculateTiming:function(b,c,d,j,h,a,e){var g={};if(b.requestStart!=0&&b.requestStart<b.connectEnd&&b.requestStart>b.navigationStart){g.connectEnd=b.requestStart}else{if(b.responseEnd!=0&&b.responseEnd<b.connectEnd&&b.responseEnd>b.navigationStart){g.connectEnd=b.responseEnd}else{g.connectEnd=b.connectEnd}}if(b.responseEnd==0&&b.domLoading>0){g.responseEnd=b.domLoading}else{g.responseEnd=b.responseEnd}if(b.requestStart>b.responseEnd&&b.connectEnd!=0){g.requestStart=b.connectEnd}else{g.requestStart=b.requestStart}if((j!=0&&c>j)||(h!=0&&c<h)){c=b.domLoading}if(j!=0&&d<h){d=j}if(j==0&&d>h){j=d}if(h!=0){c=h}var f=UsageTools.restrictMaxTime(d<h?-1:d-h);a[e.TOTAL_LOAD_TIME]=f;a[e.EVENT_VALUE]=f;a[e.NETWORK_CONNECT_TIME]=UsageTools.restrictMaxTime((b.navigationStart==0||g.connectEnd==0||b.navigationStart>h)?-1:g.connectEnd-b.navigationStart);a[e.SERVER_RESPONSE_TIME]=UsageTools.restrictMaxTime((g.requestStart==0||g.responseEnd==0||g.requestStart<b.navigationStart||g.requestStart>g.responseEnd)?-1:g.responseEnd-g.requestStart);a[e.DOM_LOAD_TIME]=UsageTools.restrictMaxTime(j==0||b.domLoading<h?-1:j-b.domLoading);a[e.ONLOAD_TO_VIEW_TIME]=UsageTools.restrictMaxTime(d==0||j==0||j>d?-1:d-j);a[e.BROWSER_LOAD_TIME]=UsageTools.restrictMaxTime(d==0||c==0||c>d?-1:d-b.domLoading)},trackPLT:function(q,b,x){for(var l in b){if(typeof b[l].ensureTrackAPI=="function"&&b[l].ensureTrackAPI()){var p=b[l]._tracker;if(p&&p.enablePLT){try{var s=(new Date()).getTime();if(!q){q=[{win:window,name:"top",startTime:window.usageStartTime?window.usageStartTime:s}]}for(var y=0;y<q.length;y++){if(!q[y]){continue}var w={};var m="100";w[p.TRACKING_SOURCE]=p.getTrackingSourceMapping(m);if(p.TRACKING_TYPE){w[p.TRACKING_TYPE]=GaTracker.prototype.getTrackingTypeByTrackingSource(m)}if(p.nonInteraction){w.nonInteraction=1}var z="unknown";try{z=q[y].name?q[y].name:(q[y].win===top?"top":q[y].win.name)}catch(r){}z=z.substring(0,z.indexOf("&")>-1?z.indexOf("&"):z.length);if(z!="Main"&&z!="CPB"){continue}var k="";try{k=q[y].win.location.href}catch(c){}var g=q[y].endTime?q[y].endTime*1:s;var t=q[y].cpEndTime?q[y].cpEndTime*1:(q[y].endTime?q[y].endTime*1:s);w[p.EVENT_CATEGORY]="PageLoadTime";w[p.EVENT_ACTION]=z?z:"Unknown";var v=typeof q[y].requestId==="undefined"?null:q[y].requestId;if(!v){try{v=Main.cpb.getRequestId()}catch(a){}if(!v){v=UsageTools.createRandomId(g)}}w[p.REQUEST_ID]=v+"-"+y;if(k){w[p.PAGE_URL]=k}w[p.TIME_STAMP]=UsageTools.getUTCTime();var B=-1;var n=-1;if(x._page_menu_code&&!w[p.MENU_CODE]){w[p.MENU_CODE]=x._page_menu_code}if(q[y].startTime){q[y].startTime=(q[y].startTime*1);B=UsageTools.restrictMaxTime(g-q[y].startTime)}if((z=="CPB")&&q[y].cpStartTime){q[y].cpStartTime=q[y].cpStartTime*1;n=UsageTools.restrictMaxTime(t-q[y].cpStartTime);w[p.CUSTOM_METRIC_1]=B;w[p.BROWSER_LOAD_TIME]=n;w[p.EVENT_VALUE]=n;w[p.PAGE_ID]=q[y].PAGE_ID}else{w[p.BROWSER_LOAD_TIME]=B;w[p.EVENT_VALUE]=B}var j=null;var h=null;var u=null;try{j=q[y].win;var A=j.name;h=j.performance||j.mozPerformance||j.msPerformance||j.webkitPerformance;u=h.timing}catch(e){}if(j==null||h==null||u==null){if(B>0){p.event(w)}continue}try{if(h.timing){var o=h.timing;if(!!h&&h.navigation.type===2){}else{UsageTools._getPerformaceMatricsFromBrowser(o,q[y],w,g,t,z,p);p.event(w)}}}catch(d){UsageTools.sendLog("onPageReadyForUser: Access performance "+j+" err="+d.message)}}}catch(f){UsageTools.sendLog("PageLoadTime send: "+f.message)}}}}},trackBrowserPLT:function(n,a,r){for(var j in a){if(typeof a[j].ensureTrackAPI=="function"&&a[j].ensureTrackAPI()){var m=a[j]._tracker;if(m&&m.enablePLT){try{var o=(new Date()).getTime();if(!n){n=[{win:window,name:"top",startTime:window.usageStartTime?window.usageStartTime:o}]}for(var s=0;s<n.length;s++){if(!n[s]){continue}var q={};var k="100";q[m.TRACKING_SOURCE]=m.getTrackingSourceMapping(k);if(m.TRACKING_TYPE){q[m.TRACKING_TYPE]=GaTracker.prototype.getTrackingTypeByTrackingSource(k)}if(m.nonInteraction){q.nonInteraction=1}var t="top";var h="";try{h=n[s].location.href}catch(b){}if(h){q[m.PAGE_URL]=h}q[m.EVENT_CATEGORY]="PageLoadTime";q[m.EVENT_ACTION]=t?t:"top";q[m.TIME_STAMP]=UsageTools.getUTCTime();if(r._page_menu_code&&!q[m.MENU_CODE]){q[m.MENU_CODE]=r._page_menu_code}if(n[s].startTime){n[s].startTime=(n[s].startTime*1);val=UsageTools.restrictMaxTime(now-n[s].startTime)}var g=null;var f=null;var p=null;try{g=n[s];var u=g.name;f=g.performance||g.mozPerformance||g.msPerformance||g.webkitPerformance;p=f.timing}catch(d){}try{if(f.timing){var l=f.timing;if(!!f&&f.navigation.type===2){}else{UsageTools._getPerformaceMatricsFromBrowser(l,n[s],q,0,0,t,m);m.event(q)}}}catch(c){UsageTools.sendLog("onPageReadyForUser: Access performance "+g+" err="+c.message)}}}catch(e){UsageTools.sendLog("PageLoadTime send: "+e.message)}}}}},_getPerformaceMatricsFromBrowser:function(b,n,a,d,m,j,h){var e=0;if(b.loadEventEnd!=0){e=b.loadEventEnd}else{if(b.loadEventStart!=0){e=b.loadEventStart}else{if(b.domComplete!=0){e=b.domComplete}}}if(e!=0){d=e;m=e}var o=0;if(b.domContentLoadedEventEnd!=0){o=b.domContentLoadedEventEnd}else{if(b.domContentLoadedEventStart!=0){o=b.domContentLoadedEventStart}else{if(b.domInteractive!=0){o=b.domInteractive}}}var c=0;if(b.navigationStart!=0){c=b.navigationStart}else{if(b.requestStart!=0){c=b.requestStart}}var k=b.navigationStart+","+b.connectEnd+","+b.requestStart+","+b.responseEnd+","+b.domLoading+","+n.startTime+","+e+","+d;UsageTools._calculateTiming(b,n.startTime,d,o,c,a,h);if(j=="CPB"){k=k+","+n.cpStartTime+","+m;var g=a[h.TOTAL_LOAD_TIME];var l=a[h.ONLOAD_TO_VIEW_TIME];var f=a[h.BROWSER_LOAD_TIME];UsageTools._calculateTiming(b,n.cpStartTime,m,o,c,a,h);a[h.CUSTOM_METRIC_1]=f;a[h.CUSTOM_METRIC_2]=g;a[h.CUSTOM_METRIC_3]=l}a[h.DEBUG_TEXT]=k},validate:function(b,c){try{if(!UsageTools.isTestEnv()){return}if(typeof UsageValidator!="undefined"){UsageValidator.validatePageView(b,c)}}catch(a){UsageTools.sendLog("Page validate failed: "+a.message)}}};window.UsageListener=window.UsageListener||{_listenerAdded:false,_scrollCounter:0,_clickCount:0,_lastScrollValue:0,_refer:null,setupAutoListeners:function(c,b,a){this._refer=b;if(this._listenerAdded){return}this._listenerAdded=true;if(a){this._initClickListener(window,null,window.document,"init",c)}this._addCVMainFrameNavigateListener(c)},_initClickListener:function(c,d,b,e,a){this._addOnLoadListener(c,d,b,e,a);this._addClickListener(c,d,b,e,a)},_addOnLoadListener:function(d,a,j,h,k,c){try{if(!d){return}var g="";try{g=d.name+(a!=null?a.name+a.id:"")}catch(f){}if(a==null){UsageTools.log("frame not found to register onload win="+g+" from="+h);return}if(typeof a.usageOnLoadRegistered=="undefined"){a.usageOnLoadRegistered=true;UsageTools.log("Registering onloadframe="+g+" from="+h);this._addEvent(a,"load",function(l){try{UsageTools.log("onload triggered win="+g);var m=null;try{m=a.contentDocument}catch(o){}UsageListener._addClickListener(d,a,m,"onload",k);UsageListener._addScrollListener(m,k)}catch(n){UsageTools.sendLog("onload error "+n.message)}},false)}else{UsageTools.log("Already onload registered. ignoring from="+h+" frame="+g)}}catch(b){UsageTools.sendLog("_addOnLoadListener: from="+h+" msg="+b.message+" frame="+g)}},_addClickListener:function(f,g,d,j,h){var b="";try{b=f.name+(g!=null?g.name+g.id:"")}catch(c){}try{if(d){if(typeof d.usageClickRegistered=="undefined"){d.usageClickRegistered=true;this._addEvent(d,"mouseup",function(e){UsageListener._onclick(e,h)},true);UsageTools.log("registered click frame="+b)}else{UsageTools.log("Already click registered. ignoring. from="+j+" frame="+b)}this._findChildFrames(f,g,d,j,h,0)}else{UsageTools.log("Unable to find document: from="+j+" frame="+b)}}catch(a){UsageTools.sendLog("_addClickListener: from="+j+" msg="+a.message+" frame="+b)}},_onclick:function(a,d){UsageListener._clickCount++;try{if(d.length>0){a.EVENT_ID=(d[0]._userId||" ")+"_"+new Date().getTime()}}catch(c){console.log(c)}for(var b in d){if(typeof d[b].ensureTrackAPI=="function"&&d[b].ensureTrackAPI()){UsageListener.sendClick(d[b]._tracker,a)}}},_findChildFrames:function(h,b,o,n,g,a){var k="";try{k=h.name+(b!=null?b.name+b.id:"")}catch(j){}try{UsageTools.log("recursing frame "+k+" from="+n);if(o!=null){var m=o.getElementsByTagName("iframe");for(var f=0;f<m.length;f++){var d=false;try{var l=m[f].contentDocument;d=true}catch(c){}if(!d){if(f==0){UsageTools.log(f+" No access to frame "+k+" from="+n+" Retry after some time");if(a<3){a=a+1;window.setTimeout(function(){UsageListener._findChildFrames(h,b,o,n+"delay",g,a)},2000)}return}else{UsageTools.log(f+" No access to content document frame="+k+" from="+n)}}else{try{this._processChildFrame(m[f].contentWindow,m[f],m[f].contentDocument,n,g,f)}catch(j){}}}}else{UsageTools.log("find child doc is null")}}catch(c){UsageTools.sendLog("recurse frame: from="+n+" msg="+c.message+" frame="+k)}},_processChildFrame:function(d,b,h,g,c,e){try{var f=typeof b.style!="undefined"?b.style.display:"";var a=typeof b.style!="undefined"?b.style.visibility:"";UsageTools.log(e+" recursing child found "+b.name+b.id+" w="+b.innerWidth+" d="+f+"v="+a);if(b.innerWidth<50||f=="none"||a=="hidden"){UsageTools.log(e+" Ignored child found "+b.name+b.id+" w="+b.innerWidth+" d="+f+"v="+a);return}UsageTools.log(e+" ### Found frame "+b.name+b.id);this._initClickListener(d,b,h,"recurse",c)}catch(j){UsageTools.sendLog(e+" Ignoring. No access to frame: index="+i+" msg="+j.message)}},_addScrollListener:function(b,c){try{this._addEvent(b,"scroll",function(d){UsageListener._onScroll(d,b,c)},false)}catch(a){UsageTools.sendLog("Scroll register: "+a.message)}},_onScroll:function(a,b,d){var c=++UsageListener._scrollCounter;setTimeout(function(){UsageListener.triggerScrollEvent(d,a,b,c)},2000)},_addEvent:function(e,d,c,a){try{if(!e){return}if(e.attachEvent){e["e"+d+c]=c;e[d+c]=function(f){e["e"+d+c](f?f:window.event)};e.attachEvent("on"+d,e[d+c])}else{e.addEventListener(d,c,a)}}catch(b){UsageTools.sendLog("Add Event: "+b.message)}},_addCVMainFrameNavigateListener:function(a){this._addEvent(window,"message",function(b){try{var e=b.data;if(!e){return}var d=e.type;if(!d){try{e=JSON.parse(e);d=e.type}catch(f){}}if(d=="NAVIGATION"||b.data=="tab_change"){UsageTools.log("Main frame navigated or tab changed"+b.data);UsageListener._initClickListener(window.Main,window.Main.frameElement,window.Main.frameElement.contentDocument,"MainNavigate",a)}}catch(c){UsageTools.sendLog("_addCVMainFrameNavigateListener: "+c.message)}},false)},sendClick:function(g,m){UsageTools.log("clicked...");if(UsageListener._clickCount>50){return}try{if(!m){return}var j=m.target||m.srcElement;if(!j){return}var k=j.nodeName?j.nodeName.toLowerCase():null;if(k==null||k=="html"||k=="body"||(k=="input"&&(j.type!="button"&&j.type!="submit"))){return}try{if(j.getAttribute("__shortcut")){return}}catch(o){}var b=UsageTools.getNodeIdentifier(j,0);if(g.autoClickExcludePattern&&g.autoClickExcludePattern.test(b)){return}if(b){b=b.toString();if(b.indexOf("cv_mb_dropdown")>=0&&b.indexOf("cv_mb_active")<0){return}}var l="";if(j.innerHTML&&j.innerHTML.length<100){l=j.innerHTML.replace(/(<([^>]+)>)/ig,"").replace(/^\s+|\s+$/g,"")}if(l==""){l=j.title||j.alt||j.name||j.nodeName}var a={};var c="100";a[g.SOURCE_TEAM]="UsageAnalytics";a[g.TRACKING_SOURCE]=g.getTrackingSourceMapping(c);if(a[g.TRACKING_TYPE]){a[g.TRACKING_TYPE]=GaTracker.prototype.getTrackingTypeByTrackingSource(c)}a[g.EVENT_CATEGORY]="Clicked";a[g.EVENT_ACTION]=UsageTools.truncate(l,50);a[g.EVENT_LABEL]=UsageTools.truncate(b,50);try{if(!(typeof Main==="undefined"||typeof Main.cpb==="undefined")){var f=Main.cpb.getLastClickedPortlet();if(f&&(new Date().getTime()-f.clickTime)<=200){a[g.PORTLET_NAME]=f.title;a[g.PORTLET_CODE]=f.code;if(g.piwikTracking&&g.piwikTracking.loginId){a[g.CUSTOM_DIMENSION_20]=g.piwikTracking.loginId+"_"+f.clickTime}else{a[g.CUSTOM_DIMENSION_20]=f.clickTime}a[g.CONTENT_PROVIDER]=f.content_provider?f.content_provider:Main.cpb.getPageContentProvider();if(Main.COMPOSITE_PAGE_SERVICE&&Main.COMPOSITE_PAGE_SERVICE.getLastLevelTabInfo()){a[g.TAB_NAME]=Main.COMPOSITE_PAGE_SERVICE.getLastLevelTabInfo()["active_tab_name"]}}}}catch(n){UsageTools.log("Error getting Main "+n.message)}if(!a[g.PORTLET_CODE]&&!a[g.PORTLET_NAME]){var d=UsageListener.getPortletId(j,0);if(d){a[g.PORTLET_NAME]=d}}a[g.PAGE_URL]=UsageTools.getPageUrl();try{if(a[g.EVENT_ACTION].replace(/\s/g,"").length==0){return}}catch(h){return}if(this._refer._page_menu_code&&!a[g.MENU_CODE]){a[g.MENU_CODE]=this._refer._page_menu_code}else{if(!this._refer._page_menu_code&&!a[g.MENU_CODE]){try{a[g.MENU_CODE]=top.prtl.navigation.getCurrentMenuNode().shortcut}catch(h){}}}if(this.lastSend&&(new Date()-this.lastSend)<200){return}try{if(g._isGlassbox){a.EVENT_ID=m.EVENT_ID}else{if(!a[g.CUSTOM_DIMENSION_20]){a[g.CUSTOM_DIMENSION_20]=m.EVENT_ID}}}catch(h){console.log(h)}g.submit("event",a,g);this.lastSend=new Date()}catch(p){UsageTools.sendLog("Click send: "+p+" msg="+p.message)}},getPortletId:function(c,a){if(a>5){return null}var b=c.parentElement||c.parentNode;if(b&&b.id){return b.id.replace(/[0-9]/g,"").split("_")[0]||b.id}else{if(b){return UsageListener.getPortletId(b,++a)}else{return null}}},triggerScrollEvent:function(c,g,f,b){if(b<this._scrollCounter){return}try{var k=(f.height!==undefined)?f.height:f.body.offsetHeight;var a=window.innerHeight||f.documentElement.clientHeight||f.body.clientHeight||0;var j=(f.documentElement||f.body.parentNode||f.body).scrollTop;var e=j!=0?Math.round(((j+a)/k)*100):0;if(e>100){e=100}if(e<=UsageListener._lastScrollValue){return}UsageListener._lastScrollValue=e;for(var d in c){if(typeof c[d].ensureTrackAPI=="function"&&c[d].ensureTrackAPI()){UsageListener.sendScrollEvent(c[d]._tracker)}}}catch(h){UsageTools.sendLog("Scroll send: "+h.message)}},sendScrollEvent:function(b){var a={};var d="100";a[b.SOURCE_TEAM]="UsageAnalytics";a[b.TRACKING_SOURCE]=b.getTrackingSourceMapping(d);if(b.TRACKING_TYPE){a[b.TRACKING_TYPE]=GaTracker.prototype.getTrackingTypeByTrackingSource(d)}a[b.EVENT_CATEGORY]="Scroll";a[b.EVENT_ACTION]="scroll";a[b.EVENT_LABEL]="scroll";a[b.EVENT_VALUE]=UsageListener._lastScrollValue;if(b.nonInteraction){a.useBeacon=true}if(this._refer._page_menu_code&&!a[b.MENU_CODE]){a[b.MENU_CODE]=this._refer._page_menu_code}else{if(!this._refer._page_menu_code&&!a[b.MENU_CODE]){try{a[b.MENU_CODE]=top.prtl.navigation.getCurrentMenuNode().shortcut}catch(c){}}}b.event(a)},reset:function(){UsageListener._lastScrollValue=0;UsageListener._clickCount=0}};"use strict";function UsageProPluginImpl(){this._sites={};this._variablesInitialized=false;this._cvchatJSLoaded=false;this._scriptLoaded=false;this._pageViewSent=false;this._functionName=window.usageCvchatFunctionName?window.usageCvchatFunctionName:"citicvchat";this.enablePLT=true;this.nonInteraction=false;this.piwikTracking=null;this.lastSend=null;this._ver="$Rev: 4678 $".replace(/\D+/g,"");this.USER_ID="loginId";this.PAGE_HIERARCHY_PATH="menuNavigationPath";this.TRACKING_SOURCE="trackingSource";this.TAB_NAME="tabName";this.PORTLET_NAME="portletName";this.PORTLET_CODE="portletCode";this.CONTENT_SOURCE="contentSourceId";this.SOURCE_TEAM="SOURCE";this.TIME_STAMP="TIME_STAMP";this.DEVICE_TYPE="DEVICE_TYPE";this.APP_NAME="APPLICATION";this.CONTENT_PROVIDER="CONTENT_PROVIDER";this.APP_VERSION="APP_VERSION";this.BROWSER_LOAD_TIME="BROWSER_LOAD_TIME";this.NETWORK_CONNECT_TIME="NETWORK_CONNECT_TIME";this.SERVER_RESPONSE_TIME="SERVER_RESPONSE_TIME";this.DOM_LOAD_TIME="DOM_LOAD_TIME";this.TOTAL_LOAD_TIME="TOTAL_LOAD_TIME";this.ONLOAD_TO_VIEW_TIME="ONLOAD_TO_VIEW_TIME";this.MENU_CODE="menuCode";this.REQUEST_ID="REQUEST_ID";this.PAGE_ID="PAGE_ID";this.EVENT_CATEGORY="eventCategory";this.EVENT_ACTION="eventAction";this.EVENT_LABEL="eventLabel";this.EVENT_VALUE="eventValue";this.DEBUG_TEXT="DEBUG_TEXT";this.CUSTOM_DIMENSION_1="cd1";this.CUSTOM_DIMENSION_2="cd2";this.CUSTOM_DIMENSION_3="cd3";this.CUSTOM_DIMENSION_4="cd4";this.CUSTOM_DIMENSION_5="cd5";this.CUSTOM_DIMENSION_6="cd6";this.CUSTOM_DIMENSION_7="cd7";this.CUSTOM_DIMENSION_8="cd8";this.CUSTOM_DIMENSION_9="cd9";this.CUSTOM_DIMENSION_10="cd10";this.CUSTOM_DIMENSION_11="cd11";this.CUSTOM_DIMENSION_12="cd12";this.CUSTOM_DIMENSION_13="cd13";this.CUSTOM_DIMENSION_14="cd14";this.CUSTOM_DIMENSION_15="cd15";this.CUSTOM_DIMENSION_16="cd16";this.CUSTOM_DIMENSION_17="cd17";this.CUSTOM_DIMENSION_18="cd18";this.CUSTOM_DIMENSION_19="cd19";this.CUSTOM_DIMENSION_20="cd20";this.CUSTOM_METRIC_1="cm1";this.CUSTOM_METRIC_2="cm2";this.CUSTOM_METRIC_3="cm3";this.CUSTOM_METRIC_4="cm4";this.CUSTOM_METRIC_5="cm5";this.CUSTOM_METRIC_6="cm6";this.CUSTOM_METRIC_7="cm7";this.CUSTOM_METRIC_8="cm8";this.CUSTOM_METRIC_9="cm9";this.CUSTOM_METRIC_10="cm10";this.CUSTOM_METRIC_11="cm11";this.CUSTOM_METRIC_12="cm12";this.CUSTOM_METRIC_13="cm13";this.CUSTOM_METRIC_14="cm14";this.CUSTOM_METRIC_15="cm15";this.CUSTOM_METRIC_16="cm16";this.CUSTOM_METRIC_17="cm17";this.CUSTOM_METRIC_18="cm18";this.CUSTOM_METRIC_19="cm19";this.CUSTOM_METRIC_20="cm20";this.USER_TYPE="USER_TYPE";this.TIME_STAMP="TIME_STAMP";this.ENV="ENV";this.ZONE="ZONE";this.PORTAL="PORTAL";this.PAGE_URL="PAGE_URL"}"use strict";UsageProPluginImpl.prototype.envRootUrlMap={DEV:"https://uat.citivelocity.com",QA:"https://uat.citivelocity.com",UAT:"https://uat.citivelocity.com",PROD:"https://www.citivelocity.com"};UsageProPluginImpl.prototype.piwikBridgeNoPiwikURL="/ua/cv/akpublic/api/piwik-bridge-without-piwik.min.js?v=3";UsageProPluginImpl.prototype.piwikBridgePiwikURL="/ua/cv/akpublic/api/piwik-bridge-with-piwik.min.js?v=3";UsageProPluginImpl.prototype.init=function(b){try{this._initVariables();this._loadScript(b)}catch(a){UsageTools.sendPiwikEvent("UsageProPluginImplInitError"+a.message)}};UsageProPluginImpl.prototype._initVariables=function(){if(this._variablesInitialized){return}this._variablesInitialized=true;var a=this._functionName;window.CVChatTrackerObject=a;window[a]=window[a]||function(){(window[a].q=window[a].q||[]).push(arguments)};if(window.usageStartTime){window[a].l=window.usageStartTime}else{window[a].l=1*new Date()}window[a](function(){this._omnitureJSLoaded=true})};UsageProPluginImpl.prototype._loadScript=function(d){if(this._scriptLoaded){return}if(window._piwikScriptLoaded){return}var c=document.createElement("script");var b=document.getElementsByTagName("script")[0];c.async=0;var e;if(window.Piwik){e=this.piwikBridgeNoPiwikURL}else{e=this.piwikBridgePiwikURL}if(d&&this.envRootUrlMap[d]){c.src=this.envRootUrlMap[d]+e}else{c.src=e}this._scriptLoaded=true;window._piwikScriptLoaded=true;b.parentNode.insertBefore(c,b)};UsageProPluginImpl.prototype._setPageParameters=function(a){if(!a){return}this.submit("set",a,this)};UsageProPluginImpl.prototype.addTracker=function(e,d,c){try{if(!this._variablesInitialized){this.init(d.ENV)}if(this._sites[c?c:"default"]){return}this._sites[c?c:"default"]=e;var b={siteId:e,env:d.ENV,disableBulk:d.DISABLE_BULK,enableHeartBeatTimer:d.ENABLE_HEARTBEATTIMER,enableForceGET:d.ENABLE_FORCEGET,};this.submit("create",b,this);if(d){this.submit("set",d,this)}}catch(a){UsageTools.sendPiwikEvent("UsageProPluginImplInitError"+a.message)}};UsageProPluginImpl.prototype.pageView=function(d,e,b){if(!this._variablesInitialized){this.init()}try{if(e){e[this.TIME_STAMP]=UsageTools.getUTCTime()}if(b){for(var a in b){e[a]=b[a]}}this._setPageParameters(d);this.submit("pageview",e,this);UsageTools.validate(d,e);this._pageViewSent=true}catch(c){UsageTools.sendPiwikEvent("CvChatPageview: "+c.message)}};UsageProPluginImpl.prototype.submit=function(){if(!UsageTools.enabled){return}try{if(arguments&&arguments.length>=1&&arguments[0]=="event"){UsageTools.validateEvent(arguments);if(this._pageViewSent==false){}if(arguments.length>1&&(!arguments[1][this.TIME_STAMP])){arguments[1][this.TIME_STAMP]=UsageTools.getUTCTime()}}}catch(a){UsageTools.sendPiwikEvent("UsageProPluginImpl submit: "+a.message)}window[this._functionName].apply(this,arguments)};UsageProPluginImpl.prototype.event=function(b,a){if(this.lastSend&&(new Date()-this.lastSend)<200){return}this.lastSend=new Date();this.submit("event",b,this)};UsageProPluginImpl.prototype.getTrackingSourceMapping=function(a){return a};"use strict";function GlassBoxPluginImpl(){this._sites={};this._variablesInitialized=false;this._cvchatJSLoaded=false;this._scriptLoaded=false;this._pageViewSent=false;this._functionName=window.usageCvchatFunctionName?window.usageCvchatFunctionName:"citicvchat";this.enablePLT=true;this.nonInteraction=false;this.piwikTracking=null;this.lastSend=null;this._ver="$Rev: 4678 $".replace(/\D+/g,"");this.USER_ID="loginId";this.PAGE_HIERARCHY_PATH="menuNavigationPath";this.TRACKING_SOURCE="trackingSource";this.TAB_NAME="tabName";this.PORTLET_NAME="portletName";this.PORTLET_CODE="portletCode";this.CONTENT_SOURCE="contentSourceId";this.SOURCE_TEAM="SOURCE";this.TIME_STAMP="TIME_STAMP";this.DEVICE_TYPE="DEVICE_TYPE";this.APP_NAME="APPLICATION";this.CONTENT_PROVIDER="CONTENT_PROVIDER";this.APP_VERSION="APP_VERSION";this.BROWSER_LOAD_TIME="BROWSER_LOAD_TIME";this.NETWORK_CONNECT_TIME="NETWORK_CONNECT_TIME";this.SERVER_RESPONSE_TIME="SERVER_RESPONSE_TIME";this.DOM_LOAD_TIME="DOM_LOAD_TIME";this.TOTAL_LOAD_TIME="TOTAL_LOAD_TIME";this.ONLOAD_TO_VIEW_TIME="ONLOAD_TO_VIEW_TIME";this.MENU_CODE="menuCode";this.REQUEST_ID="REQUEST_ID";this.PAGE_ID="PAGE_ID";this.EVENT_CATEGORY="eventCategory";this.EVENT_ACTION="eventAction";this.EVENT_LABEL="eventLabel";this.EVENT_VALUE="eventValue";this.DEBUG_TEXT="DEBUG_TEXT";this.CUSTOM_DIMENSION_1="cd1";this.CUSTOM_DIMENSION_2="cd2";this.CUSTOM_DIMENSION_3="cd3";this.CUSTOM_DIMENSION_4="cd4";this.CUSTOM_DIMENSION_5="cd5";this.CUSTOM_DIMENSION_6="cd6";this.CUSTOM_DIMENSION_7="cd7";this.CUSTOM_DIMENSION_8="cd8";this.CUSTOM_DIMENSION_9="cd9";this.CUSTOM_DIMENSION_10="cd10";this.CUSTOM_DIMENSION_11="cd11";this.CUSTOM_DIMENSION_12="cd12";this.CUSTOM_DIMENSION_13="cd13";this.CUSTOM_DIMENSION_14="cd14";this.CUSTOM_DIMENSION_15="cd15";this.CUSTOM_DIMENSION_16="cd16";this.CUSTOM_DIMENSION_17="cd17";this.CUSTOM_DIMENSION_18="cd18";this.CUSTOM_DIMENSION_19="cd19";this.CUSTOM_DIMENSION_20="cd20";this.CUSTOM_METRIC_1="cm1";this.CUSTOM_METRIC_2="cm2";this.CUSTOM_METRIC_3="cm3";this.CUSTOM_METRIC_4="cm4";this.CUSTOM_METRIC_5="cm5";this.CUSTOM_METRIC_6="cm6";this.CUSTOM_METRIC_7="cm7";this.CUSTOM_METRIC_8="cm8";this.CUSTOM_METRIC_9="cm9";this.CUSTOM_METRIC_10="cm10";this.CUSTOM_METRIC_11="cm11";this.CUSTOM_METRIC_12="cm12";this.CUSTOM_METRIC_13="cm13";this.CUSTOM_METRIC_14="cm14";this.CUSTOM_METRIC_15="cm15";this.CUSTOM_METRIC_16="cm16";this.CUSTOM_METRIC_17="cm17";this.CUSTOM_METRIC_18="cm18";this.CUSTOM_METRIC_19="cm19";this.CUSTOM_METRIC_20="cm20";this.USER_TYPE="USER_TYPE";this.TIME_STAMP="TIME_STAMP";this.ENV="ENV";this.ZONE="ZONE";this.PORTAL="PORTAL";this.PAGE_URL="PAGE_URL";this._dicMap={deviceType:"DEVICE_TYPE",eventId:"EVENT_ID",eventAction:"EVENT_ACTION",eventCategory:"EVENT_CATEGORY",eventType:"EVENT_TYPE",eventLabel:"EVENT_LABEL",eventValue:"EVENT_VALUE",portletName:"PORTLET_NAME",portletCode:"PORTLET_CODE",contentSource:"CONTENT_SOURCE",contentId:"CONTENT_ID",contentProvider:"CONTENT_PROVIDER",clickPath:"CLICK_PATH",pageHierarchyPath:"PAGE_HIERARCHY_PATH",pageTitle:"PAGE_TITLE",portal:"PORTAL",portalProfile:"PORTAL_PROFILE",tabName:"TAB_NAME",source:"EVENT_SOURCE",userId:"USER_ID",requestId:"REQUEST_ID",mimicedUserId:"MIMICED_USER_ID",csi:"CSI",url:"URL",zone:"ZONE",userType:"USER_TYPE",epochTimestampt:"EPOCH_TIMESTAMPT",readableTimestamp:"READABLE_TIMESTAMP",application:"APPLICATION",loginId:"USER_ID",menuCode:"MENU_CODE",menuNavigationPath:"MENU_NAVIGATION_PATH",trackingSource:"TRACKING_SOURCE"}}GlassBoxPluginImpl.prototype.envRootUrlMap={DEV:"",QA:"",UAT:"",PROD:""};GlassBoxPluginImpl.prototype.portalAPIURL="/epf-ua/eppublic/js/api/portalApi_tracker.js?v="+new Date().getTime();GlassBoxPluginImpl.prototype.envRootUrlMap={DEV:"",QA:"https://qa.citivelocity.com",UAT:"https://uat.citivelocity.com",PROD:"https://www.citivelocity.com",};GlassBoxPluginImpl.prototype.init=function(b){try{this._initVariables();this._loadScript(b)}catch(a){UsageTools.sendPiwikEvent("GlassBoxPluginImplInitError"+a.message)}};GlassBoxPluginImpl.prototype._initVariables=function(){if(this._variablesInitialized){return}this._variablesInitialized=true;this._loadScripted=true;this.taskArr=[];window._glassBoxPluginImpl=this;this.dataHandle=function(){this.taskArr.push(arguments)}};GlassBoxPluginImpl.prototype._loadScript=function(d){try{if(window._glassBoxPluginImpl&&window._glassBoxPluginImpl._scriptLoaded){this._setTrackerApi();this._handleHistoryWork();return}}catch(g){console.log(g)}var c=document.createElement("script");var b=document.getElementsByTagName("script")[0];c.async=0;var f=this.portalAPIURL;if(d&&this.envRootUrlMap[d]){c.src=this.envRootUrlMap[d]+f}else{c.src=f}this._scriptLoaded=true;c.onload=function(){window._glassBoxPluginImpl._setTrackerApi();window._glassBoxPluginImpl._handleHistoryWork()};c.onerror=function(){window._glassBoxPluginImpl._loadScripted=false};b.parentNode.insertBefore(c,b)};GlassBoxPluginImpl.prototype._setTrackerApi=function(){var a={CSI:"12345"};this._trackerApi=window.PORTAL.UA.getEventTracker({CSI:12345});this.dataHandle=function(b,c){if(!c.EVENT_ID){c.EVENT_ID=(c.USER_ID||this._siteParams.loginId||" ")+"_"+new Date().getTime()}c.IS_FROM_PIWIK=true;if(c.CUSTOM_PARAM!=undefined){c.CUSTOM_PARAM.piwikJS="Y"}else{c.CUSTOM_PARAM={piwikJS:"Y"}}this._trackerApi.triggerCustomEvent(b,c);console.log("send to glassbox",b)}};GlassBoxPluginImpl.prototype._handleHistoryWork=function(){for(var a in this.taskArr){this.dataHandle(this.taskArr[a][0],this.taskArr[a][1])}};GlassBoxPluginImpl.prototype.addTracker=function(d,c,b){try{if(!this._variablesInitialized){this.init(c.ENV)}if(this._sites[b?b:"default"]){return}this._sites[b?b:"default"]=d;this._siteParams=c;this._isGlassbox=true}catch(a){UsageTools.sendPiwikEvent("GlassBoxPluginImplInitError"+a.message)}};GlassBoxPluginImpl.prototype.pageView=function(c,d,e){if(!this._variablesInitialized){this.init()}if(!this._loadScripted){return}try{if(d){d[this.TIME_STAMP]=UsageTools.getUTCTime()}this._copyAttr(c,d);this._copyAttr(e,d);var b=this._getPageEventDetails(d);this.submit("pageview",b);UsageTools.validate(c,d);this._pageViewSent=true}catch(a){UsageTools.sendPiwikEvent("Pageview: "+a.message)}};GlassBoxPluginImpl.prototype._getPageEventDetails=function(b){var a={};a.EVENT_ACTION="view";a.CUSTOM_PARAM=this._getCustomParam(b);this._copyAttr(b,a);return a};GlassBoxPluginImpl.prototype._getCustomParam=function(d){var a={};var c=["cd1","cd2","cd3","cd4","cd5","cd6","cd7","cd8"];for(var b in c){if(d[c[b]]!==undefined){a[c[b]]=d[c[b]];delete d[c[b]]}}return a};GlassBoxPluginImpl.prototype._copyAttr=function(c,b){if(!c){return}for(var a in c){if(this._dicMap.hasOwnProperty(a)){b[this._dicMap[a]]=c[a]}else{b[a]=c[a]}}};GlassBoxPluginImpl.prototype.submit=function(b,c){if(!UsageTools.enabled){return}try{if(arguments&&arguments.length>=1&&b=="event"){UsageTools.validateEvent(arguments);if(arguments.length>1&&(!arguments[1][this.TIME_STAMP])){c[this.TIME_STAMP]=UsageTools.getUTCTime()}}}catch(a){UsageTools.sendPiwikEvent("GlassBoxPluginImpl submit: "+a.message)}this.dataHandle(b,c)};GlassBoxPluginImpl.prototype.event=function(c,b){if(this.lastSend&&(new Date()-this.lastSend)<200){return}this.lastSend=new Date();var a=this._getEventDetail(c);this.submit("event",a)};GlassBoxPluginImpl.prototype.addEventId=function(c,a){if(c.EVENT_ID!==undefined){c.EVENT_ID=c.EVENT_ID+"_"+a}else{var b=new Date(c.TIME_STAMP||new Date());c.EVENT_ID=(c.USER_ID||"")+"_"+b.getTime()+"_"+a}};GlassBoxPluginImpl.prototype._getEventDetail=function(b){var a={};a.EVENT_ACTION="event";a.CUSTOM_PARAM=this._getCustomParam(b);this._copyAttr(b,a);this._copyAttr(this._siteParams,a);return a};GlassBoxPluginImpl.prototype.getTrackingSourceMapping=function(a){return a};window.GaTracker=function(h,f,c,o,l,a,j,n,b){if(arguments.length<3&&typeof arguments[0]=="object"){this._env=arguments[0].ENV||null;this._piwikUserId=arguments[0].USER_ID||null;this._userId=arguments[0].USER_ID_ENC||null;this._userType=arguments[0].USER_TYPE||null;this._portal=arguments[0].PORTAL||null;this._zone=arguments[0].ZONE||null;this._source=arguments[0].SOURCE_TEAM||null;this._application=arguments[0].APPLICATION||null;this._siteId=arguments[0].SITE_ID||null;this._appVersion=arguments[0].APP_VERSION||null;this._profile=arguments[0].PROFILE||null;this._option=arguments[1]}else{this._env=h;this._userId=f;this._userType=c;this._portal=o;this._zone=l;this._source=a;this._piwikUserId=j;this._application=n;this._siteId=b}this._application=this._getAppName();this._deviceType=this._getDeviceType();this._disableBulk=true;if(this._option&&this._option.enableBulk){this._disableBulk=false}this._disableGB=false;this._allowSiteGB=false;try{if(this._option&&this._option.enableGlassbox!=undefined&&!this._option.enableGlassbox){this._disableGB=true}var p=location.href.indexOf("disableGB");if(p!=-1){var g=location.href.slice(p,p+11);if(g.indexOf("Y")!=-1){this._disableGB=true}}var m=["5","6","7","8","9","10","11","12","14","15","17","19","22","26","28","32","37","38","43","47","46","93","160","161","162","163","164","165","166","167","170","171","172","173","174","175","230","231"];if(m.indexOf(this._siteId+"")!=-1){this._allowSiteGB=true}}catch(k){console.log(k)}this._enableHeartBeatTimer=false;if(this._option&&this._option.enableHeartBeatTimer){this._enableHeartBeatTimer=true}this._enablePLTTrigger=false;if(this._option&&this._option.enablePLTTrigger){this._enablePLTTrigger=true}this._disableAutoTrigger=false;if(this._option&&this._option.disableAutoTrigger){this._disableAutoTrigger=true}this._enableForceGet=false;if(this._option&&this._option.enableForceGet){this._enableForceGet=true}if(!this._portal){this._portal="CitiVelocity"}this.trackers=[];if(typeof GaTracker.UsageGooglePlugin=="function"){this.trackers.push(new GaTracker.UsageGooglePlugin(this._env,this._userId,this._userType,this._portal,this._zone,this._source,this._piwikUserId,this._application,this._siteId))}if(typeof GaTracker.UsageAdobePlugin=="function"){this.trackers.push(new GaTracker.UsageAdobePlugin(this._env,this._userId,this._userType,this._portal,this._zone,this._source,this._piwikUserId,this._application,this._siteId))}if(typeof GaTracker.UsageProPlugin=="function"){this.trackers.push(new GaTracker.UsageProPlugin(this._env,this._userId,this._userType,this._portal,this._zone,this._source,this._piwikUserId,this._application,this._siteId,this._deviceType,this._disableBulk,this._enableHeartBeatTimer,this._enableForceGet,this._appVersion,this._profile))}if(typeof GaTracker.GlassBoxPlugin=="function"&&!this._disableGB&&this._allowSiteGB){this.trackers.push(new GaTracker.GlassBoxPlugin(this._env,this._userId,this._userType,this._portal,this._zone,this._source,this._piwikUserId,this._application,this._siteId,this._deviceType,this._disableBulk,this._enableHeartBeatTimer,this._enableForceGet,this._appVersion,this._profile))}if(typeof GaTracker.UsagePiwikPlugin=="function"){this.trackers.push(new GaTracker.UsagePiwikPlugin(this._env,this._userId,this._userType,this._portal,this._zone,this._source,this._piwikUserId,this._application,this._siteId,this._deviceType,this._appVersion))}var d;for(d=0;d<this.trackers.length;d++){this.trackers[d].init()}if(!this._disableAutoTrigger||this._enablePLTTrigger){UsageListener.setupAutoListeners(this.trackers,this,!this._disableAutoTrigger)}};GaTracker.CONSTANTS={MENU_TRACKING:"menu",SEARCH_TRACKING:"search",SEARCH_RESULT_TRACKING:"search_result",DOCUMENT_TRACKING:"document",TAB_TRACKING:"tab",NOTIFICATION_TRACKING:"notification",EVENT_TRACKING:"event",OTHER_TRACKING:"other",DEEPLINKS:"deeplink",SUBSCRIPTION:"subscription",NOTIFICATION:"notification",CV_SUGGEST:"cvsuggest",CAMPAIGN:"campaign"};GaTracker.prototype.plugins=[];GaTracker.prototype._getAppName=function(){if(this._application){return this._application}var c=navigator.userAgent;var b=/(\s|^)CitiApp:(\S*)/;var a=b.exec(c);if(a&&a[2]){return a[2]}else{return"CitivelocityWeb"}};GaTracker.OSDetect=function(){var a={isDesktop:true,isPhone:false,isTablet:false,isMobile:false,isAndroid:false,isAndroidPhone:false,isAndroidTablet:false,isIOS:false,isIPhone:false,isIPad:false,isRimTablet:false,isWindowsPhone:false,isWindowsTablet:false,isBlackberry:false,isMeego:false,isKindle:false,isKindleHD:false,isHybrid:false,isAndroidHybrid:false,isIOSHybrid:false,isWebkit:false,androidVersion:"",userAgent:""};var b={initialize:function(){a.userAgent=this.getUserAgent();this.detectMobile();this.detectHybrid();this.detectDevice();this.detectAndroidVersion();this.detectWebkit()},getUserAgent:function(){return navigator.userAgent||navigator.vendor||window.opera||""},detectMobile:function(){try{a.isMobile=(/android|meego|bb\d+|avantgo|bada\/|blackberry|playBook|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|kfot build|kfjwa build|kfjwi build|kftt build|lge |maemo|midp|mobile|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|windows .+touch|xda|xiino/i.test(a.userAgent))||(/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.userAgent.substr(0,4)));return}catch(c){}a.isMobile=false},detectDevice:function(){var c=a.userAgent;this.detectAndroid(c);this.detectIOS(c);this.detectWindows(c);this.detectOtherDevice(c);a.isPhone=a.isAndroidPhone||a.isIPhone||a.isWindowsPhone||a.isMeego||a.isBlackberry;a.isTablet=a.isAndroidTablet||a.isIPad||a.isRimTablet||a.isWindowsTablet||a.isKindle||a.isKindleHD;a.isDesktop=!a.isPhone&&!a.isTablet},detectAndroid:function(e){a.isAndroid=/android/i.test(e);if(/kindle/i.test(e)||(/kfot build/i.test(e))){a.isKindle=true}else{if((/kfjwa build/i.test(e))||(/kfjwi build/i.test(e))||(/kftt build/i.test(e))){a.isKindleHD=true}}if(a.isAndroid){var f=/mobile/i.test(e);var d=/android 2/i.test(e);var c=/android 3/i.test(e);if(c||(!d&&!f)||a.isKindle||a.isKindleHD){a.isAndroidTablet=true}else{a.isAndroidPhone=true}}},detectIOS:function(c){if(/ip(hone|od)/i.test(c)){a.isIPhone=true}else{if(/ipad/i.test(c)){a.isIPad=true}}a.isIOS=a.isIPhone||a.isIPad},detectWindows:function(c){if(/windows (ce|phone)/i.test(c)){a.isWindowsPhone=true}else{if(/windows/i.test(c)&&/touch/i.test(c)){a.isWindowsTablet=true}}},detectOtherDevice:function(c){if(/rim tablet os/i.test(c)){a.isRimTablet=true}else{if(/blackberry/i.test(c)){a.isBlackberry=true}else{if(/meego/i.test(c)){a.isMeego=true}}}},detectWebkit:function(){if(a.userAgent.search("AppleWebKit")>-1){a.isWebkit=true}else{a.isWebkit=false}},detectHybrid:function(){if(a.userAgent.indexOf("inNativeShell")>-1){a.isAndroidHybrid=true;a.isHybrid=true}else{if(a.userAgent.indexOf("isInsideIOSApp")>-1){a.isIOSHybrid=true;a.isHybrid=true}}},detectAndroidVersion:function(){var g=-1,j=8,f=null,c=a.userAgent,d="";g=a.isAndroid?c.indexOf("Android"):-1;if(g>-1){try{f=c.substring(g+j);d=f.substring(0,f.indexOf(";"))}catch(h){d=""}}a.androidVersion=d}};this.initialize=function(){b.initialize()};this.get=function(c){return a[c]}};GaTracker.prototype._getDeviceType=function(){var a=new GaTracker.OSDetect();a.initialize();if(a.get("isPhone")){return"PHONE"}else{if(a.get("isTablet")){return"TABLET"}else{return"DESKTOP"}}};GaTracker.prototype.getTrackingTypeByTrackingSource=function(a){switch(a){case"0":case"1":case"18":case"20":case"22":case"23":case"24":return GaTracker.CONSTANTS.MENU_TRACKING;case"4":return GaTracker.CONSTANTS.OTHER_TRACKING;case"5":case"6":case"7":case"8":case"9":case"17":case"19":case"21":case"25":return GaTracker.CONSTANTS.DOCUMENT_TRACKING;case"2":return GaTracker.CONSTANTS.SEARCH_TRACKING;case"16":return GaTracker.CONSTANTS.TAB_TRACKING;case"100":case"":return GaTracker.CONSTANTS.EVENT_TRACKING;default:return GaTracker.CONSTANTS.MENU_TRACKING}};GaTracker.prototype.translateTrackingSource=function(a){switch(a){case"6":return"DeepLinks";case"7":return"Subscriptions";case"8":return"SearchResults";case"9":return"Notification";case"14":return"CV Suggest";case"16":return"Tabs";case"17":return"Newsletter";case"18":return"Newsletter";case"19":return"EmailDigest";case"20":return"EmailDigest";case"21":return"SendEmail";case"22":return"Icon";case"23":return"Notification";case"24":return"NotificationCenter";case"25":return"Notification";default:return"direct"}};GaTracker.prototype.getRequestIdFromCPB=function(){try{return Main&&Main.cpb&&Main.cpb["getRequestId"]()}catch(a){}};GaTracker.prototype.getCPNameFromCPB=function(){try{return Main&&Main.cpb&&Main.cpb["getPageContentProvider"]()}catch(a){}};GaTracker.prototype.getProtletFromCPB=function(a){var c=null;try{c=Main&&Main.cpb&&Main.cpb["getLastClickedPortlet"]();if(new Date().getTime()-c.clickTime>200){c=null}}catch(b){}if(c){return{name:a||c.title,code:c.code}}};GaTracker.prototype.onPageReadyForUser=function(a){UsageTools.trackPLT(a,this.trackers,this)};GaTracker.prototype.trackContent=function(o,j,g,m,b,d,f,l,h,s,p){var r=null;if(arguments.length==1&&typeof arguments[0]=="object"){r={_opt_portlet:arguments[0].PORTLET_NAME||null,_opt_portlet_code:arguments[0].PORTLET_CODE||null,_contentSourceId:arguments[0].CONTENT_SOURCE||null,_contentId:arguments[0].CONTENT_ID||null,_clickPath:arguments[0].PAGE_HIERARCHY_PATH||null,_pageTitle:arguments[0].PAGE_TITLE||null,_menuCode:arguments[0].MENU_CODE||null,_customUrl:arguments[0].PAGE_URL||null,_trackingSource:arguments[0].TRACKING_SOURCE||null,_requestId:arguments[0].REQUEST_ID||null,_opt_cpName:arguments[0].CONTENT_PROVIDER||null,_obj:arguments[0]}}else{r={_opt_portlet:h,_opt_portlet_code:p,_contentSourceId:j,_contentId:o,_clickPath:b,_pageTitle:d,_menuCode:f,_customUrl:l,_trackingSource:g,_requestId:m,_opt_cpName:s}}if(!r._trackingSource){r._trackingSource="5"}var n=this._getEventId();for(var e in this.trackers){if(typeof this.trackers[e].ensureTrackAPI=="function"&&this.trackers[e].ensureTrackAPI()){var c=this._getPageInformation(this.trackers[e],r._clickPath,r._pageTitle,r._menuCode,r._customUrl,null);var a=this._getRequestInformation(this.trackers[e],r._trackingSource,r._requestId,r._opt_cpName,r._trackingSource,r._opt_portlet,r._opt_portlet_code,r._contentId,r._contentSourceId);var q=r._obj&&this._translateMapping(r._obj,this.trackers[e]);if(q){for(var k in q){a[k]=q[k]}}this._setEventId(this.trackers[e]._tracker,a,n);this.trackers[e].pageView(c,a)}}UsageListener.reset()};GaTracker.prototype.trackNewsLetter=function(a,e,l,c,o,g,d,m,b,n,j){var p=this._getEventId();for(var h in this.trackers){if(typeof this.trackers[h].ensureTrackAPI=="function"&&this.trackers[h].ensureTrackAPI()){var k=this._getPageInformation(this.trackers[h],o,g,d,m,null);var f=this._getRequestInformation(this.trackers[h],GaTracker.CONSTANTS.DOCUMENT_TRACKING,c,n,l,b,null,a,e,j);this._setEventId(this.trackers[h]._tracker,f,p);this.trackers[h].pageView(k,f)}}UsageListener.reset()};GaTracker.prototype.trackPageView=function(o,e,b,m,k,a,n,h){var d=null;if(arguments.length==1&&typeof arguments[0]=="object"){d={_clickPath:arguments[0].PAGE_HIERARCHY_PATH||null,_pageTitle:arguments[0].PAGE_TITLE||null,_menuCode:arguments[0].MENU_CODE||null,_customUrl:arguments[0].PAGE_URL||null,_trackingSource:arguments[0].TRACKING_SOURCE||null,_requestId:arguments[0].REQUEST_ID||null,_opt_cpName:arguments[0].CONTENT_PROVIDER||null,_opt_hitType:arguments[0].TAB_NAME||null,_obj:arguments[0]}}else{d={_clickPath:o,_pageTitle:e,_menuCode:b,_customUrl:m,_trackingSource:k,_requestId:a,_opt_cpName:n,_opt_hitType:h,_obj:null}}if(d._menuCode){this._page_menu_code=d._menuCode}var p=this._getEventId();for(var g in this.trackers){if(typeof this.trackers[g].ensureTrackAPI!="undefined"&&this.trackers[g].ensureTrackAPI()){var j=this._getPageInformation(this.trackers[g],d._clickPath,d._pageTitle,d._menuCode,d._customUrl,d._opt_hitType);var c=this._getRequestInformation(this.trackers[g],null,d._requestId,d._opt_cpName,d._trackingSource);if(d._obj){var l=d._obj&&this._translateMapping(d._obj,this.trackers[g])}this._setEventId(this.trackers[g]._tracker,l,p);this.trackers[g].pageView(j,c,l)}}if(this._enablePLTTrigger){var f=this;window.setTimeout(function(){UsageTools.trackBrowserPLT([window],f.trackers,f)},200)}UsageListener.reset()};GaTracker.prototype.trackMenu=function(j,d,b,h,a,g){if(b){this._page_menu_code=b}var k=this._getEventId();for(var e in this.trackers){if(typeof this.trackers[e].ensureTrackAPI!="undefined"&&this.trackers[e].ensureTrackAPI()){var f=this._getPageInformation(this.trackers[e],j,d,b,h);var c=this._getRequestInformation(this.trackers[e],GaTracker.CONSTANTS.MENU_TRACKING,a,"cv2",g);this._setEventId(this.trackers[e]._tracker,c,k);this.trackers[e].pageView(f,c)}}UsageListener.reset()};GaTracker.prototype.trackSearch=function(a,k,e,b,j){var d=null;if(arguments.length==1&&typeof arguments[0]=="object"){d={_clickPath:arguments[0].PAGE_HIERARCHY_PATH||null,_pageTitle:arguments[0].PAGE_TITLE||null,_menuCode:arguments[0].MENU_CODE||null,_customUrl:arguments[0].PAGE_URL||null,_requestId:arguments[0].REQUEST_ID||null,_obj:arguments[0]}}else{d={_clickPath:k,_pageTitle:e,_menuCode:b,_customUrl:j,_requestId:a,_obj:null}}if(d._menuCode){this._page_menu_code=d._menuCode}var l=this._getEventId();for(var f in this.trackers){if(typeof this.trackers[f].ensureTrackAPI!="undefined"&&this.trackers[f].ensureTrackAPI()){var g=this._getPageInformation(this.trackers[f],d._clickPath,d._pageTitle,d._menuCode,d._customUrl);var c=this._getRequestInformation(this.trackers[f],GaTracker.CONSTANTS.SEARCH_TRACKING,d._requestId,"cvsearch","2");if(d._obj){var h=d._obj&&this._translateMapping(d._obj,this.trackers[f])}this._setEventId(this.trackers[f]._tracker,h,l);this.trackers[f].pageView(g,c,h)}}UsageListener.reset()};GaTracker.prototype._getPageInformation=function(c,b,e,d,g,a){var f={};f[c.CONSTANTS.ENV]=c._env;f[c.CONSTANTS.SOURCE_TEAM]=c._source;f[c.CONSTANTS.USER_ID]=c._userId;f[c.CONSTANTS.PAGE_HIERARCHY_PATH]=b;f[c.CONSTANTS.PORTAL]=c._portal;f[c.CONSTANTS.APP_NAME]=c._application;f[c.CONSTANTS.DEVICE_TYPE]=c._deviceType;f[c.CONSTANTS.PAGE_URL]=g?g:window.location.href;if(c._zone){f[c.CONSTANTS.ZONE]=String(c._zone.charAt(0)).toUpperCase()+String(c._zone.substr(1)).toLowerCase()}if(a){f[c.CONSTANTS.TAB_NAME]=a}f[c.DICTIONARY.MENU_CODE]=d;if(c._userType){f[c.DICTIONARY.USER_TYPE]=c._userType}if(e){f[c.DICTIONARY.PAGE_TITLE]=e}return f};GaTracker.prototype._getRequestInformation=function(l,e,c,b,j,d,f,a,g,k){var h={};if(j){h[l.CONSTANTS.TRACKING_SOURCE]=l._getNameOfTrackingSource(j);if(l.CONSTANTS.TRACKING_TYPE){h[l.CONSTANTS.TRACKING_TYPE]=GaTracker.prototype.getTrackingTypeByTrackingSource(j)}}else{if(e){if(l.CONSTANTS.TRACKING_TYPE){h[l.CONSTANTS.TRACKING_TYPE]=e}}}if(b=b||GaTracker.prototype.getCPNameFromCPB()){h[l.CONSTANTS.CONTENT_PROVIDER]=b}if(j&&j!="1"){var m=GaTracker.prototype.getProtletFromCPB(d);if(m){h[l.DICTIONARY.PORTLET_NAME]=m.name;h[l.DICTIONARY.PORTLET_CODE]=m.code}else{if(d){h[l.DICTIONARY.PORTLET_NAME]=d}if(f){h[l.DICTIONARY.PORTLET_CODE]=f}}}if(c){h[l.CONSTANTS.REQUEST_ID]=c}if(a){h[l.DICTIONARY.CONTENT_ID]=a+""}if(k){h[l.DICTIONARY.CUSTOM_DIMENSION_1]=k}if(g){h[l.DICTIONARY.CONTENT_SOURCE]=g}return h};GaTracker.prototype.trackEvent=function(b){var c=this._getEventId();if(b&&b.MENU_CODE){this._page_menu_code=b.MENU_CODE}try{if(b&&b.TRACKING_SOURCE&&(b.TRACKING_SOURCE=="100")){}else{if(b){b.TRACKING_SOURCE="100"}}}catch(f){}for(var a in this.trackers){try{var d=b&&this._translateMapping(b,this.trackers[a]);if(!(typeof d=="object"&&d!=null||typeof d=="function")){return}this._setEventId(this.trackers[a]._tracker,d,c);this.trackers[a]._tracker.event(d)}catch(f){}}};GaTracker.prototype._translateMapping=function(d,c){var a={};for(var b in d){if(c.DICTIONARY[b]){a[c.DICTIONARY[b]]=d[b]}else{a[b]=d[b]}}if(d.TRACKING_SOURCE){if(c.CONSTANTS.TRACKING_SOURCE){a[c.CONSTANTS.TRACKING_SOURCE]=c._getNameOfTrackingSource(d.TRACKING_SOURCE)}if(c.CONSTANTS&&c.CONSTANTS.TRACKING_TYPE){a[c.CONSTANTS.TRACKING_TYPE]=GaTracker.prototype.getTrackingTypeByTrackingSource(d.TRACKING_SOURCE)}}if(!a[c.DICTIONARY.MENU_CODE]&&this._page_menu_code){a[c.DICTIONARY.MENU_CODE]=this._page_menu_code}return a};GaTracker.prototype.getEventInformation=function(c,f,b,a,e){var d={};d.EVENT_CATEGORY=c;d.EVENT_LABEL=f;d.EVENT_ACTION=c;d.TRACKING_SOURCE="100";if(b=this.getProtletFromCPB(b)){d.PORTLET_NAME=b.name;d.PORTLET_CODE=b.code}if(a=a||this.getCPNameFromCPB()){d.CONTENT_PROVIDER=a}return d};GaTracker.prototype.trackLink=function(h,b,c,j){var k=this._getEventId();for(var f in this.trackers){if(typeof this.trackers[f].ensureTrackAPI!="undefined"&&this.trackers[f].ensureTrackAPI()){var a=this.getEventInformation(b,h,c,j,this.trackers[f]);try{var d=a&&this._translateMapping(a,this.trackers[f]);if(!(typeof d=="object"&&d!=null||typeof d=="function")){return}this._setEventId(this.trackers[f]._tracker,d,k);this.trackers[f]._tracker.event(d)}catch(g){}}}};GaTracker.prototype.trackDownload=function(c){var d=this._getEventId();for(var a in this.trackers){if(typeof this.trackers[a].ensureTrackAPI!="undefined"&&this.trackers[a].ensureTrackAPI()){var b=this.getEventInformation("download",c,null,null,this.trackers[a]);try{var g=b&&this._translateMapping(b,this.trackers[a]);if(!(typeof g=="object"&&g!=null||typeof g=="function")){return}this._setEventId(this.trackers[a]._tracker,g,d);this.trackers[a]._tracker.event(g)}catch(f){}}}};GaTracker.prototype._getEventId=function(){if(this._disableGB||!this._allowSiteGB){return}return(this._userId||this._piwikUserId||"")+"_"+new Date().getTime()};GaTracker.prototype._setEventId=function(a,c,b){if(this._disableGB||!this._allowSiteGB){return}if(a._isGlassbox){c.EVENT_ID=b}else{if(!c.cd20){c.cd20=b}}};GaTracker.UsageProPlugin=function(h,g,f,n,l,a,j,m,b,c,p,k,o,e,d){this._env=h;this._userId=j;this._userType=f;this._portal=n;this._zone=l;this._source=a;this._application=m;this._siteId=b;this._deviceType=c;this._initiated=false;this._disableBulk=p;this._enableHeartBeatTimer=k;this._enableForceGet=o;this._appVersion=e;this._profile=d};GaTracker.UsageProPlugin.prototype.DICTIONARY={PAGE_URL:"PAGE_URL",PAGE_TITLE:"PAGE_TITLE",PAGE_HIERARCHY_PATH:"menuNavigationPath",CONTENT_PROVIDER:"CONTENT_PROVIDER",MENU_CODE:"menuCode",PORTLET_NAME:"portletName",PORTLET_CODE:"portletCode",CONTENT_ID:"contentId",CONTENT_SOURCE:"contentSourceId",ROOM_ID:"ROOM_ID",OS:"OS",OS_VERSION:"OS_VERSION",DEVICE_INFO:"DEVICE_INFO",APP_VERSION:"APP_VERSION",USER_TYPE:"USER_TYPE",CUSTOM_DIMENSION_1:"cd1",CUSTOM_DIMENSION_2:"cd2",CUSTOM_DIMENSION_3:"cd3",CUSTOM_DIMENSION_4:"cd4",CUSTOM_DIMENSION_5:"cd5",CUSTOM_DIMENSION_6:"cd6",CUSTOM_DIMENSION_7:"cd7",CUSTOM_DIMENSION_8:"cd8",CUSTOM_DIMENSION_9:"cd9",CUSTOM_DIMENSION_10:"cd10",CUSTOM_DIMENSION_11:"cd11",CUSTOM_DIMENSION_12:"cd12",CUSTOM_DIMENSION_13:"cd13",CUSTOM_DIMENSION_14:"cd14",CUSTOM_DIMENSION_15:"cd15",CUSTOM_DIMENSION_16:"cd16",CUSTOM_DIMENSION_17:"cd17",CUSTOM_DIMENSION_18:"cd18",CUSTOM_DIMENSION_19:"cd19",CUSTOM_DIMENSION_20:"cd20",CUSTOM_METRIC_1:"cm1",CUSTOM_METRIC_2:"cm2",CUSTOM_METRIC_3:"cm3",CUSTOM_METRIC_4:"cm4",CUSTOM_METRIC_5:"cm5",CUSTOM_METRIC_6:"cm6",CUSTOM_METRIC_7:"cm7",CUSTOM_METRIC_8:"cm8",CUSTOM_METRIC_9:"cm9",CUSTOM_METRIC_10:"cm10",CUSTOM_METRIC_11:"cm11",CUSTOM_METRIC_12:"cm12",CUSTOM_METRIC_13:"cm13",CUSTOM_METRIC_14:"cm14",CUSTOM_METRIC_15:"cm15",CUSTOM_METRIC_16:"cm16",CUSTOM_METRIC_17:"cm17",CUSTOM_METRIC_18:"cm18",CUSTOM_METRIC_19:"cm19",CUSTOM_METRIC_20:"cm20",EVENT_CATEGORY:"eventCategory",EVENT_ACTION:"eventAction",EVENT_LABEL:"eventLabel",EVENT_VALUE:"eventValue"};GaTracker.UsageProPlugin.prototype.ensureTrackAPI=function(a){if(!a&&(!this._source||this._source=="Portal")){return false}if(this._tracker){return true}if(typeof UsageProPluginImpl==="function"&&!this._initiated){this._tracker=new UsageProPluginImpl();this._tracker.addTracker=this._tracker.addTracker;this._tracker.pageView=this._tracker.pageView;this._tracker.submit=this._tracker.submit;this._tracker.onPageReadyForUser=this._tracker.onPageReadyForUser;this.CONSTANTS={};this.CONSTANTS.ENV=this._tracker.ENV;this.CONSTANTS.SOURCE_TEAM=this._tracker.SOURCE_TEAM;this.CONSTANTS.USER_ID=this._tracker.USER_ID;this.CONSTANTS.TRACKING_SOURCE=this._tracker.TRACKING_SOURCE;this.CONSTANTS.PAGE_HIERARCHY_PATH=this._tracker.PAGE_HIERARCHY_PATH;this.CONSTANTS.PORTAL=this._tracker.PORTAL;this.CONSTANTS.ZONE=this._tracker.ZONE;this.CONSTANTS.APP_NAME=this._tracker.APP_NAME;this.CONSTANTS.DEVICE_TYPE=this._tracker.DEVICE_TYPE;this.CONSTANTS.CONTENT_PROVIDER=this._tracker.CONTENT_PROVIDER;this.CONSTANTS.REQUEST_ID=this._tracker.REQUEST_ID;this.CONSTANTS.TAB_NAME=this._tracker.TAB_NAME;this.CONSTANTS.PAGE_URL=this._tracker.PAGE_URL;this._initiated=true;return true}return false};GaTracker.UsageProPlugin.prototype._getSiteId=function(a,b,c,d,j){if(this._source=="CVChat"){return"18"}var g="0";try{if("SfsExternal"==b){switch(c){case"QA":g="36";break;case"UAT":g="36";break;case"PROD":g="36";break;default:g="1";break}return g}if(a=="intranet"||a=="ICG"){switch(c){case"QA":g="2";break;case"UAT":g="3";break;case"PROD":g="4";break;default:g="1";break}return g}else{if(b=="Internal"){switch(c){case"QA":g="7";break;case"UAT":g="9";break;case"PROD":g="11";break;default:g="5";break}}else{var h=0;try{h=parent.prtl.user.getCurrentUser().getUserType()}catch(f){h=j=="Client"||j=="C"}switch(c){case"QA":g=!h?"8":"14";break;case"UAT":g=!h?"10":"14";break;case"PROD":g=!h?"12":"14";break;default:g=!h?"6":"14";break}}}return g}catch(f){return null}};GaTracker.UsageProPlugin.prototype.init=function(){if(!this._siteId){this._siteId=this._getSiteId(this._portal,this._zone,this._env,this._source,this._userType)}var b={APPLICATION:this._application,DEVICE_TYPE:this._deviceType,ENV:this._env,loginId:this._userId,PORTAL:this._portal,ZONE:this._zone,SOURCE:this._source,DISABLE_BULK:this._disableBulk,ENABLE_HEARTBEATTIMER:this._enableHeartBeatTimer,ENABLE_FORCEGET:this._enableForceGet,APP_VERSION:this._appVersion,PROFILE:this._profile};if(this._userType){this._userType=String(this._userType.charAt(0)).toUpperCase()+String(this._userType.substr(1)).toLowerCase();b.USER_TYPE=this._userType}if(!this.ensureTrackAPI(true)){return}try{this._tracker.addTracker(this._siteId,b)}catch(a){}};GaTracker.UsageProPlugin.prototype.pageView=function(b,a,d){try{this._tracker.pageView(b,a,d)}catch(c){}};GaTracker.UsageProPlugin.prototype.pageViewObj=function(b){try{this._tracker.pageViewObj(b)}catch(a){}};GaTracker.UsageProPlugin.prototype._getNameOfTrackingSource=function(a){return a};GaTracker.GlassBoxPlugin=function(h,g,f,n,l,a,j,m,b,c,p,k,o,e,d){this._env=h;this._userId=j;this._userType=f;this._portal=n;this._zone=l;this._source=a;this._application=m;this._siteId=b;this._deviceType=c;this._initiated=false;this._disableBulk=p;this._enableHeartBeatTimer=k;this._enableForceGet=o;this._appVersion=e;this._profile=d;this._tracker=new GlassBoxPluginImpl();this._tracker.addTracker=this._tracker.addTracker;this._tracker.pageView=this._tracker.pageView;this._tracker.submit=this._tracker.submit;this._tracker.onPageReadyForUser=this._tracker.onPageReadyForUser;this.CONSTANTS={};this.CONSTANTS.ENV=this._tracker.ENV;this.CONSTANTS.SOURCE_TEAM=this._tracker.SOURCE_TEAM;this.CONSTANTS.USER_ID=this._tracker.USER_ID;this.CONSTANTS.TRACKING_SOURCE=this._tracker.TRACKING_SOURCE;this.CONSTANTS.PAGE_HIERARCHY_PATH=this._tracker.PAGE_HIERARCHY_PATH;this.CONSTANTS.PORTAL=this._tracker.PORTAL;this.CONSTANTS.ZONE=this._tracker.ZONE;this.CONSTANTS.APP_NAME=this._tracker.APP_NAME;this.CONSTANTS.DEVICE_TYPE=this._tracker.DEVICE_TYPE;this.CONSTANTS.CONTENT_PROVIDER=this._tracker.CONTENT_PROVIDER;this.CONSTANTS.REQUEST_ID=this._tracker.REQUEST_ID;this.CONSTANTS.TAB_NAME=this._tracker.TAB_NAME;this.CONSTANTS.PAGE_URL=this._tracker.PAGE_URL;this._initiated=true};GaTracker.GlassBoxPlugin.prototype.DICTIONARY={PAGE_URL:"PAGE_URL",PAGE_TITLE:"PAGE_TITLE",PAGE_HIERARCHY_PATH:"PAGE_HIERARCHY_PATH",CONTENT_PROVIDER:"CONTENT_PROVIDER",MENU_CODE:"MENU_CODE",PORTLET_NAME:"PORTLET_NAME",PORTLET_CODE:"PORTLET_CODE",CONTENT_ID:"CONTENT_ID",CONTENT_SOURCE:"CONTENT_SOURCE",ROOM_ID:"ROOM_ID",OS:"OS",OS_VERSION:"OS_VERSION",DEVICE_INFO:"DEVICE_INFO",APP_VERSION:"APP_VERSION",USER_TYPE:"USER_TYPE",SOURCE:"EVENT_SOURCE",CUSTOM_DIMENSION_1:"cd1",CUSTOM_DIMENSION_2:"cd2",CUSTOM_DIMENSION_3:"cd3",CUSTOM_DIMENSION_4:"cd4",CUSTOM_DIMENSION_5:"cd5",CUSTOM_DIMENSION_6:"cd6",CUSTOM_DIMENSION_7:"cd7",CUSTOM_DIMENSION_8:"cd8",CUSTOM_DIMENSION_9:"cd9",CUSTOM_DIMENSION_10:"cd10",CUSTOM_DIMENSION_11:"cd11",CUSTOM_DIMENSION_12:"cd12",CUSTOM_DIMENSION_13:"cd13",CUSTOM_DIMENSION_14:"cd14",CUSTOM_DIMENSION_15:"cd15",CUSTOM_DIMENSION_16:"cd16",CUSTOM_DIMENSION_17:"cd17",CUSTOM_DIMENSION_18:"cd18",CUSTOM_DIMENSION_19:"cd19",CUSTOM_DIMENSION_20:"cd20",CUSTOM_METRIC_1:"cm1",CUSTOM_METRIC_2:"cm2",CUSTOM_METRIC_3:"cm3",CUSTOM_METRIC_4:"cm4",CUSTOM_METRIC_5:"cm5",CUSTOM_METRIC_6:"cm6",CUSTOM_METRIC_7:"cm7",CUSTOM_METRIC_8:"cm8",CUSTOM_METRIC_9:"cm9",CUSTOM_METRIC_10:"cm10",CUSTOM_METRIC_11:"cm11",CUSTOM_METRIC_12:"cm12",CUSTOM_METRIC_13:"cm13",CUSTOM_METRIC_14:"cm14",CUSTOM_METRIC_15:"cm15",CUSTOM_METRIC_16:"cm16",CUSTOM_METRIC_17:"cm17",CUSTOM_METRIC_18:"cm18",CUSTOM_METRIC_19:"cm19",CUSTOM_METRIC_20:"cm20",EVENT_CATEGORY:"EVENT_CATEGORY",EVENT_ACTION:"EVENT_ACTION",EVENT_LABEL:"EVENT_LABEL",EVENT_VALUE:"EVENT_VALUE"};GaTracker.GlassBoxPlugin.prototype.ensureTrackAPI=function(a){return true};GaTracker.GlassBoxPlugin.prototype._getSiteId=function(a,b,c,d,j){if(this._source=="CVChat"){return"18"}var g="0";try{if("SfsExternal"==b){switch(c){case"QA":g="36";break;case"UAT":g="36";break;case"PROD":g="36";break;default:g="1";break}return g}if(a=="intranet"||a=="ICG"){switch(c){case"QA":g="2";break;case"UAT":g="3";break;case"PROD":g="4";break;default:g="1";break}return g}else{if(b=="Internal"){switch(c){case"QA":g="7";break;case"UAT":g="9";break;case"PROD":g="11";break;default:g="5";break}}else{var h=0;try{h=parent.prtl.user.getCurrentUser().getUserType()}catch(f){h=j=="Client"||j=="C"}switch(c){case"QA":g=!h?"8":"14";break;case"UAT":g=!h?"10":"14";break;case"PROD":g=!h?"12":"14";break;default:g=!h?"6":"14";break}}}return g}catch(f){return null}};GaTracker.GlassBoxPlugin.prototype.init=function(){if(!this._siteId){this._siteId=this.siteId}var b={APPLICATION:this._application,DEVICE_TYPE:this._deviceType,ENV:this._env,loginId:this._userId,PORTAL:this._portal,ZONE:this._zone,EVENT_SOURCE:this._source,DISABLE_BULK:this._disableBulk,ENABLE_HEARTBEATTIMER:this._enableHeartBeatTimer,ENABLE_FORCEGET:this._enableForceGet,APP_VERSION:this._appVersion,PROFILE:this._profile};if(this._userType){this._userType=String(this._userType.charAt(0)).toUpperCase()+String(this._userType.substr(1)).toLowerCase();b.USER_TYPE=this._userType}try{this._tracker.addTracker(this._siteId,b)}catch(a){}};GaTracker.GlassBoxPlugin.prototype.pageView=function(b,a,d){try{this._tracker.pageView(b,a,d)}catch(c){}};GaTracker.GlassBoxPlugin.prototype.pageViewObj=function(b){try{this._tracker.pageViewObj(b)}catch(a){}};GaTracker.GlassBoxPlugin.prototype._getNameOfTrackingSource=function(a){return a};